{"version":3,"sources":["webpack:///./src/components/commission/commission_list.vue?7e36","webpack:///./src/components/commission/commission_list.vue","webpack:///src/components/commission/commission_list.vue"],"names":["commission_commission_list","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","click","$event","divideTypePicker","show","attrs","title","commission","queryParams","divideType","is-link","_v","timePicker","touchmove","preventDefault","timePickerValue","position","lock-scroll","model","value","callback","$$v","$set","expression","ref","slots","slot","valueKey","type","chooseType","change","timeChange","chooseTime","directives","name","rawName","infinite-scroll-disabled","infinite-scroll-distance","_l","item","goToPageCommissionDetail","accountSettleId","dividePrice","orderCode","created","slice","list","length","color","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","commission_list_default","a","__webpack_exports__","_utils","_ref","_asyncToGenerator3","default","_regenerator2","mark","_callee","getDivideType","_divideTypePicker$slo","divideTypes","text","initData","time","toString","id","loadCommissions","_ref2","_callee2","noMore","data","_commission$list","defaultPreHandler"],"mappings":"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","file":"static/js/58.6ae6e5696722732b1564.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Withdraw\"},[_c('div',{staticClass:\"withdraw-head\"},[_c('div',{staticClass:\"ui-flex\",on:{\"click\":function($event){_vm.divideTypePicker.show = true}}},[_c('mt-cell',{attrs:{\"title\":_vm.commission.queryParams.divideType,\"is-link\":\"\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"ui-flex\",on:{\"click\":function($event){_vm.timePicker.show = true},\"touchmove\":function($event){$event.preventDefault();}}},[_c('mt-cell',{attrs:{\"title\":_vm.timePickerValue,\"is-link\":\"\"}})],1),_vm._v(\" \"),_c('mt-popup',{staticClass:\"types\",attrs:{\"position\":\"bottom\",\"lock-scroll\":\"true\"},model:{value:(_vm.divideTypePicker.show),callback:function ($$v) {_vm.$set(_vm.divideTypePicker, \"show\", $$v)},expression:\"divideTypePicker.show\"}},[_c('div',{on:{\"touchmove\":function($event){$event.preventDefault();}}},[_c('mt-picker',{ref:\"typePickerObject\",attrs:{\"slots\":_vm.divideTypePicker.slot,\"valueKey\":\"text\"}}),_vm._v(\" \"),_c('mt-button',{staticClass:\"popup-button\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.chooseType()}}},[_vm._v(\"确定\")])],1)]),_vm._v(\" \"),_c('mt-popup',{staticClass:\"times\",attrs:{\"position\":\"bottom\",\"lock-scroll\":\"true\"},model:{value:(_vm.timePicker.show),callback:function ($$v) {_vm.$set(_vm.timePicker, \"show\", $$v)},expression:\"timePicker.show\"}},[_c('div',{on:{\"touchmove\":function($event){$event.preventDefault();}}},[_c('mt-picker',{ref:\"timePickerObject\",attrs:{\"slots\":_vm.timePicker.slot},on:{\"change\":_vm.timeChange}}),_vm._v(\" \"),_c('mt-button',{staticClass:\"popup-button\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.chooseTime()}}},[_vm._v(\"确定\")])],1)])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadCommissions),expression:\"loadCommissions\"}],staticClass:\"withdraw-list\",attrs:{\"infinite-scroll-disabled\":\"loading\",\"infinite-scroll-distance\":\"10\"}},[_vm._l((_vm.commission.list),function(item){return _c('div',{staticClass:\"list-for\",on:{\"click\":function($event){_vm.goToPageCommissionDetail(item.accountSettleId)}}},[_c('mt-cell',{staticClass:\"money\",attrs:{\"title\":\"佣金\",\"value\":'￥ '+item.dividePrice}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"订单编号\",\"value\":item.orderCode}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"佣金类别\",\"value\":item.divideType}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"生成日期\",\"value\":item.created.slice(0, 10)}})],1)}),_vm._v(\" \"),(_vm.commission.list.length === 0)?_c('div',{staticClass:\"null_data\"},[_c('div',{staticClass:\"null\"}),_vm._v(\" \"),_c('p',[_vm._v(\"亲，暂无数据哦~~\")])]):_c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.commission.noMore),expression:\"commission.noMore\"}],staticClass:\"load noMore\"},[_vm._v(\"已无更多\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.commission.loading),expression:\"commission.loading\"}],staticClass:\"load\"},[_c('mt-spinner',{attrs:{\"color\":\"#d4d4d4\",\"type\":\"fading-circle\"}}),_vm._v(\"\\n        正在加载\\n      \")],1)])],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f0e2d15\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/commission/commission_list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f0e2d15\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./commission_list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./commission_list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f0e2d15\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./commission_list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0f0e2d15\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/commission/commission_list.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"Withdraw\">\n    <div class=\"withdraw-head\">\n      <div class=\"ui-flex\" @click=\"divideTypePicker.show = true\">\n        <mt-cell :title=\"commission.queryParams.divideType\" is-link></mt-cell>\n      </div>\n      <div class=\"ui-flex\" @click=\"timePicker.show = true\" @touchmove.prevent>\n        <mt-cell :title=\"timePickerValue\" is-link></mt-cell>\n      </div>\n      <mt-popup v-model=\"divideTypePicker.show\" position=\"bottom\" lock-scroll=\"true\" class=\"types\">\n        <div @touchmove.prevent>\n          <mt-picker :slots=\"divideTypePicker.slot\" valueKey=\"text\"\n                     ref=\"typePickerObject\"></mt-picker>\n          <mt-button type=\"primary\" class=\"popup-button\" @click=\"chooseType()\">确定</mt-button>\n        </div>\n      </mt-popup>\n      <mt-popup v-model=\"timePicker.show\" position=\"bottom\" lock-scroll=\"true\" class=\"times\">\n        <div @touchmove.prevent>\n          <mt-picker :slots=\"timePicker.slot\" @change=\"timeChange\" ref=\"timePickerObject\"></mt-picker>\n          <mt-button type=\"primary\" class=\"popup-button\" @click=\"chooseTime()\">确定</mt-button>\n        </div>\n      </mt-popup>\n    </div>\n    <div class=\"withdraw-list\" v-infinite-scroll=\"loadCommissions\" infinite-scroll-disabled=\"loading\"\n         infinite-scroll-distance=\"10\">\n      <div class=\"list-for\" v-for=\"item in commission.list\" @click=\"goToPageCommissionDetail(item.accountSettleId)\">\n        <mt-cell class=\"money\" title=\"佣金\" :value=\"'￥ '+item.dividePrice\"></mt-cell>\n        <mt-cell title=\"订单编号\" :value=\"item.orderCode\"></mt-cell>\n        <mt-cell title=\"佣金类别\" :value=\"item.divideType\"></mt-cell>\n        <mt-cell title=\"生成日期\" :value=\"item.created.slice(0, 10)\"></mt-cell>\n      </div>\n      <div v-if=\"commission.list.length === 0\" class=\"null_data\">\n        <div class=\"null\"></div>\n        <p>亲，暂无数据哦~~</p>\n      </div>\n      <div v-else>\n        <div class=\"load noMore\" v-show=\"commission.noMore\">已无更多</div>\n        <div class=\"load\" v-show=\"commission.loading\">\n          <mt-spinner color=\"#d4d4d4\" type=\"fading-circle\"></mt-spinner>\n          正在加载\n        </div>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\n  import api from '../../api/index2'\n  import moment from 'moment'\n  import { loadData, defaultPreHandler } from '../../common/utils'\n\n  export default {\n    name: 'CommissionList',\n    data () {\n      return {\n        divideTypePicker: {\n          value: '全部',\n          slot: [\n            {\n              flex: 1,\n              values: [{\n                code: null,\n                ifDefault: true,\n                text: '全部',\n                value: null\n              }],\n              className: 'Types',\n              textAlign: 'center'\n            }\n          ],\n          show: false\n        },\n        timePicker: {\n          value: '全部',\n          slot: [\n            {\n              flex: 1,\n              values: ['全部', '今日', '本周', '本月', '上月', '近三个月'],\n              className: 'Times',\n              textAlign: 'center'\n            }\n          ],\n          show: false\n        },\n        commission: {\n          list: [],\n          loading: false,\n          noMore: false,\n          queryParams: {\n            divideType: '全部',\n            page: 0,\n            limit: 5,\n            startTime: null,\n            endTime: null,\n            audited: null,\n            paid: null\n          }\n        },\n        timePickerValue: '全部'\n      }\n    },\n    async created () {\n      this.setQueryType(this.$route.query.type)\n      await loadData(() => {\n        return api.getDivideType()\n      }, (divideTypes) => {\n        this.divideTypePicker.slot[0].values.push(...divideTypes)\n      }, defaultPreHandler, false)\n    },\n    methods: {\n      chooseType () {\n        let type = this.$refs.typePickerObject.getValues()[0].text\n        this.divideTypePicker.show = false\n        this.commission.queryParams.divideType = type\n        this.commission.queryParams.page = 1\n        this.commission.noMore = false\n        this.commission.list = []\n        this.initData()\n      },\n      chooseTime () {\n        let time = this.$refs.timePickerObject.getValues()[0]\n        this.timePicker.show = false\n        this.timePickerValue = time\n        this.commission.queryParams.page = 1\n        this.commission.noMore = false\n        this.commission.list = []\n        this.initData()\n      },\n      setQueryType (type) {\n        switch (type) {\n          case '可提金额': {\n            this.commission.queryParams.paid = false.toString()\n            break\n          }\n          case '本月佣金': {\n            this.timePickerValue = '本月'\n            this.timePicker.slot[0].defaultIndex = this.timePicker.slot[0].values.indexOf('本月')\n            this.commission.queryParams.startTime = moment().startOf('month').format('YYYY-MM-DD')\n            this.commission.queryParams.endTime = moment().add(1, 'd').format('YYYY-MM-DD')\n            break\n          }\n          case '待审佣金': {\n            this.commission.queryParams.audited = false.toString()\n            break\n          }\n          default: {\n            break\n          }\n        }\n      },\n      goToPageCommissionDetail: function (id) {\n        this.$router.push({\n          path: 'CommissionDetail',\n          query: {\n            accountSettleId: id\n          }\n        })\n      },\n      timeChange (picker, values) {\n        switch (values[0]) {\n          case '今日': {\n            this.commission.queryParams.startTime = moment().format('YYYY-MM-DD')\n            this.commission.queryParams.endTime = moment().add(1, 'd').format('YYYY-MM-DD')\n            break\n          }\n          case '本周': {\n            this.commission.queryParams.startTime = moment().day('Monday').format('YYYY-MM-DD')\n            this.commission.queryParams.endTime = moment().add(1, 'd').format('YYYY-MM-DD')\n            break\n          }\n          case '本月': {\n            this.commission.queryParams.startTime = moment().startOf('month').format('YYYY-MM-DD')\n            this.commission.queryParams.endTime = moment().add(1, 'd').format('YYYY-MM-DD')\n            break\n          }\n          case '上月': {\n            this.commission.queryParams.startTime = moment().subtract(1, 'M').startOf('month').format('YYYY-MM-DD')\n            this.commission.queryParams.endTime = moment().startOf('month').format('YYYY-MM-DD')\n            break\n          }\n          case '近三个月': {\n            this.commission.queryParams.endTime = moment().add(1, 'd').format('YYYY-MM-DD')\n            this.commission.queryParams.startTime = moment().add(1, 'd').subtract(3, 'M').format('YYYY-MM-DD')\n            break\n          }\n          default: {\n            this.commission.queryParams.endTime = null\n            this.commission.queryParams.startTime = null\n            break\n          }\n        }\n      },\n      async loadCommissions () {\n        this.commission.queryParams.page += 1\n        this.initData()\n      },\n      async initData () {\n        if (this.commission.noMore) return\n        await loadData(\n          () => {\n            return api.getCommissionList(this.commission.queryParams)\n          },\n          (data) => {\n            if (data.length === 0) {\n              this.commission.noMore = true\n            } else {\n              this.commission.list.push(...data)\n            }\n          }, defaultPreHandler\n        )\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .withdraw-head {\n    display: flex;\n    position: fixed;\n    top: 0;\n    z-index: 999;\n    width: 100%;\n  }\n\n  .ui-flex {\n    flex: 1;\n  }\n\n  .mint-cell-allow-right::after {\n    transform: translateY(-50%) rotate(135deg) !important;\n  }\n\n  .types, .times {\n    width: 100%;\n  }\n\n  .popup-button {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    background: none;\n    border: none;\n    color: #26a2ff;\n  }\n\n  .paystate {\n    margin-top: 10px;\n  }\n\n  .personInfo-link {\n    text-align: center;\n    color: #26a2ff;\n  }\n\n  .withdraw-list .list-for {\n    margin-top: 10px;\n  }\n\n  .withdraw-list .list-for:first-child {\n    margin-top: 50px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/commission/commission_list.vue"],"sourceRoot":""}