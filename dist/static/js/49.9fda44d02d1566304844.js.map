{"version":3,"sources":["webpack:///./src/components/message/message_details.vue?9e09","webpack:///./src/components/message/message_details.vue","webpack:///src/components/message/message_details.vue"],"names":["message_message_details","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","detail","title","domProps","innerHTML","content","publishTime","messageType","attrs","type","size","disabled","taskStatus","on","click","$event","goToPageTaskSchedule","objectId","_e","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","message_details_default","a","__webpack_exports__","_vuex","_utils","created","_ref","_asyncToGenerator3","default","_regenerator2","mark","_callee","messageId","getList","getDetail","status","methods","_extends3","mapActions","page","setlist"],"mappings":"oJAGAA,GADiBC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,mBAA6BF,EAAA,OAAAA,EAAA,MAAAJ,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAS,OAAAC,YAAAV,EAAAO,GAAA,KAAAH,EAAA,OAAgFE,YAAA,MAAAK,UAA4BC,UAAAZ,EAAAQ,GAAAR,EAAAS,OAAAI,YAAwCb,EAAAO,GAAA,KAAAH,EAAA,OAAwBE,YAAA,SAAmBN,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAS,OAAAK,gBAAAd,EAAAO,GAAA,cAAAP,EAAAS,OAAAM,YAAAX,EAAA,OAAqGE,YAAA,aAAuBF,EAAA,aAAkBY,OAAOC,KAAA,UAAAC,KAAA,QAAAC,UAAAnB,EAAAoB,YAA2DC,IAAKC,MAAA,SAAAC,GAAyBvB,EAAAwB,qBAAAxB,EAAAS,OAAAgB,cAAgDzB,EAAAO,GAAA,4BAAAP,EAAA0B,QAEnlBC,oBCSjBC,EAXA,SAAAC,GACAC,EAAA,SAeAC,EAbAD,EAAA,OAaAE,CACAC,EAAAC,EACApC,GATA,EAWA8B,EAPA,kBAEA,MAUAO,EAAA,QAAAJ,EAAA,gMCXAK,EAAAN,EAAA,QAGAO,EAAAP,EAAA,wBAEA,iBACAQ,QAAA,WAFA,IAAAC,GAAA,EAAAC,EAAAC,SAAAC,EAAAD,QAAAE,KAAA,SAAAC,yHAGAC,yBACAC,sCACAC,8EAEAC,wDAGAH,sDAEAA,2GAVA,oCAeA,mBAEA,WACA,eACA,eACA,YACA,mBACA,kBAEA,WACA,iBAEA,IAEAI,SAAA,EAAAC,EAAAT,aAAA,EAAAL,EAAAe,aAAA,iBACA,2BACAJ,UAAA,yNAEAF,wBAEApC,qDAEA,mBAEA,kGARA,GAWAqC,QAAA,uJACA7C,8EAEA4C,YAEA,+BAEA,QAEA,8RAIAA,YAGA,+CACAO,gBAGAC,gHAGAA,oGAvBA,iFAwBA5B,iGAEA,6BAEAA,UAKA","file":"static/js/49.9fda44d02d1566304844.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"MessageDetails\"},[_c('div',[_c('h4',[_vm._v(_vm._s(_vm.detail.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"des\",domProps:{\"innerHTML\":_vm._s(_vm.detail.content)}}),_vm._v(\" \"),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.detail.publishTime))]),_vm._v(\" \"),(_vm.detail.messageType === '可接任务')?_c('div',{staticClass:\"looktask\"},[_c('mt-button',{attrs:{\"type\":\"primary\",\"size\":\"large\",\"disabled\":!_vm.taskStatus},on:{\"click\":function($event){_vm.goToPageTaskSchedule(_vm.detail.objectId)}}},[_vm._v(\"\\n      查看任务\\n    \")])],1):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5dd11e22\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/message/message_details.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5dd11e22\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./message_details.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./message_details.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5dd11e22\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./message_details.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5dd11e22\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/message/message_details.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"MessageDetails\">\n    <div><h4>{{detail.title}}</h4></div>\n    <div class=\"des\" v-html=\"detail.content\"></div>\n    <div class=\"time\">{{detail.publishTime}}</div>\n    <div v-if=\"detail.messageType === '可接任务'\" class=\"looktask\">\n      <mt-button type=\"primary\" size=\"large\" :disabled=\"!taskStatus\" @click=\"goToPageTaskSchedule(detail.objectId)\">\n        查看任务\n      </mt-button>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { mapActions } from 'vuex'\n  import { loadData } from '../../common/utils'\n\n  export default {\n    name: 'MessageDetails',\n    async created () {\n      this.messageId = Number(this.$route.query.messageId)\n      await this.getList()\n      await this.getDetail()\n      let read = this.$store.state.messages.filter((item) => {\n        return item.status\n      })\n      if (read.length === 0) {\n        this.$store.commit('deleteMessage', this.messageId)\n      } else {\n        this.$store.commit('setMessageStatus', this.messageId)\n      }\n    },\n    data () {\n      return {\n        messageId: null,\n        detail: {\n          title: '',\n          content: '',\n          publishTime: '',\n          messageType: '',\n          objectId: '',\n          personMessageId: '',\n          taskStatusDesc: ''\n        },\n        taskId: null,\n        taskStatus: false\n      }\n    },\n    methods: {\n      ...mapActions(['getMessageList', 'getTaskListAcceptable']),\n      async getDetail () {\n        let detail = this.$store.state.messages.find((item) => {\n          return item.personMessageId === this.messageId\n        })\n        this.detail = detail\n        if (this.detail.taskStatusDesc === '生效') {\n          this.taskStatus = true\n        } else {\n          this.taskStatus = false\n        }\n      },\n      async getList () {\n        let vue = this\n        let find = this.$store.state.messages.find((item) => {\n          return item.personMessageId === this.messageId\n        })\n        if (!find) {\n          let param = {\n            page: 1,\n            read: true\n          }\n          const setlist = async function () {\n            await loadData(() => { return vue.getMessageList(param) })\n            let detail = vue.$store.state.messages.find((item) => {\n              return item.personMessageId === vue.messageId\n            })\n            if (detail) {\n            } else {\n              param.page++\n              await setlist()\n            }\n          }\n          await setlist()\n        }\n      },\n      async goToPageTaskSchedule (objectId) {\n        this.$router.push({\n          name: 'TaskSchedule',\n          query: {\n            taskId: objectId,\n            content: 'detail'\n          }\n        })\n      }\n    }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  .MessageDetails {\n    padding: 15px;\n    background: #ffffff;\n    min-height: 100%;\n    position: absolute;\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  .looktask {\n    padding: 10% 0\n  }\n\n  .MessageDetails h4 {\n    text-align: center\n  }\n\n  .MessageDetails .des {\n    line-height: 2;\n    margin-top: 20px\n  }\n\n  .MessageDetails .time {\n    text-align: right\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/message/message_details.vue"],"sourceRoot":""}