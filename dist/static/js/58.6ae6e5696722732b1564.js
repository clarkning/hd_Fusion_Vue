webpackJsonp([58],{"6bk2":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("n5AC"),a=i.n(s),o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Withdraw"},[i("div",{staticClass:"withdraw-head"},[i("div",{staticClass:"ui-flex",on:{click:function(e){t.divideTypePicker.show=!0}}},[i("mt-cell",{attrs:{title:t.commission.queryParams.divideType,"is-link":""}})],1),t._v(" "),i("div",{staticClass:"ui-flex",on:{click:function(e){t.timePicker.show=!0},touchmove:function(t){t.preventDefault()}}},[i("mt-cell",{attrs:{title:t.timePickerValue,"is-link":""}})],1),t._v(" "),i("mt-popup",{staticClass:"types",attrs:{position:"bottom","lock-scroll":"true"},model:{value:t.divideTypePicker.show,callback:function(e){t.$set(t.divideTypePicker,"show",e)},expression:"divideTypePicker.show"}},[i("div",{on:{touchmove:function(t){t.preventDefault()}}},[i("mt-picker",{ref:"typePickerObject",attrs:{slots:t.divideTypePicker.slot,valueKey:"text"}}),t._v(" "),i("mt-button",{staticClass:"popup-button",attrs:{type:"primary"},on:{click:function(e){t.chooseType()}}},[t._v("确定")])],1)]),t._v(" "),i("mt-popup",{staticClass:"times",attrs:{position:"bottom","lock-scroll":"true"},model:{value:t.timePicker.show,callback:function(e){t.$set(t.timePicker,"show",e)},expression:"timePicker.show"}},[i("div",{on:{touchmove:function(t){t.preventDefault()}}},[i("mt-picker",{ref:"timePickerObject",attrs:{slots:t.timePicker.slot},on:{change:t.timeChange}}),t._v(" "),i("mt-button",{staticClass:"popup-button",attrs:{type:"primary"},on:{click:function(e){t.chooseTime()}}},[t._v("确定")])],1)])],1),t._v(" "),i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadCommissions,expression:"loadCommissions"}],staticClass:"withdraw-list",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10"}},[t._l(t.commission.list,function(e){return i("div",{staticClass:"list-for",on:{click:function(i){t.goToPageCommissionDetail(e.accountSettleId)}}},[i("mt-cell",{staticClass:"money",attrs:{title:"佣金",value:"￥ "+e.dividePrice}}),t._v(" "),i("mt-cell",{attrs:{title:"订单编号",value:e.orderCode}}),t._v(" "),i("mt-cell",{attrs:{title:"佣金类别",value:e.divideType}}),t._v(" "),i("mt-cell",{attrs:{title:"生成日期",value:e.created.slice(0,10)}})],1)}),t._v(" "),0===t.commission.list.length?i("div",{staticClass:"null_data"},[i("div",{staticClass:"null"}),t._v(" "),i("p",[t._v("亲，暂无数据哦~~")])]):i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.commission.noMore,expression:"commission.noMore"}],staticClass:"load noMore"},[t._v("已无更多")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.commission.loading,expression:"commission.loading"}],staticClass:"load"},[i("mt-spinner",{attrs:{color:"#d4d4d4",type:"fading-circle"}}),t._v("\n        正在加载\n      ")],1)])],2)])},staticRenderFns:[]},r=function(t){i("nLB1")},n=i("VU/8")(a.a,o,!1,r,"data-v-0f0e2d15",null);e.default=n.exports},n5AC:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(i("Xxa5")),o=s(i("Gu7T")),r=s(i("exGp")),n=s(i("3D1+")),c=s(i("PJh5")),l=i("JaHG");e.default={name:"CommissionList",data:function(){return{divideTypePicker:{value:"全部",slot:[{flex:1,values:[{code:null,ifDefault:!0,text:"全部",value:null}],className:"Types",textAlign:"center"}],show:!1},timePicker:{value:"全部",slot:[{flex:1,values:["全部","今日","本周","本月","上月","近三个月"],className:"Times",textAlign:"center"}],show:!1},commission:{list:[],loading:!1,noMore:!1,queryParams:{divideType:"全部",page:0,limit:5,startTime:null,endTime:null,audited:null,paid:null}},timePickerValue:"全部"}},created:function(){var t=(0,r.default)(a.default.mark(function t(){var e=this;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setQueryType(this.$route.query.type),t.next=3,(0,l.loadData)(function(){return n.default.getDivideType()},function(t){var i;(i=e.divideTypePicker.slot[0].values).push.apply(i,(0,o.default)(t))},l.defaultPreHandler,!1);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{chooseType:function(){var t=this.$refs.typePickerObject.getValues()[0].text;this.divideTypePicker.show=!1,this.commission.queryParams.divideType=t,this.commission.queryParams.page=1,this.commission.noMore=!1,this.commission.list=[],this.initData()},chooseTime:function(){var t=this.$refs.timePickerObject.getValues()[0];this.timePicker.show=!1,this.timePickerValue=t,this.commission.queryParams.page=1,this.commission.noMore=!1,this.commission.list=[],this.initData()},setQueryType:function(t){switch(t){case"可提金额":this.commission.queryParams.paid=(!1).toString();break;case"本月佣金":this.timePickerValue="本月",this.timePicker.slot[0].defaultIndex=this.timePicker.slot[0].values.indexOf("本月"),this.commission.queryParams.startTime=(0,c.default)().startOf("month").format("YYYY-MM-DD"),this.commission.queryParams.endTime=(0,c.default)().add(1,"d").format("YYYY-MM-DD");break;case"待审佣金":this.commission.queryParams.audited=(!1).toString()}},goToPageCommissionDetail:function(t){this.$router.push({path:"CommissionDetail",query:{accountSettleId:t}})},timeChange:function(t,e){switch(e[0]){case"今日":this.commission.queryParams.startTime=(0,c.default)().format("YYYY-MM-DD"),this.commission.queryParams.endTime=(0,c.default)().add(1,"d").format("YYYY-MM-DD");break;case"本周":this.commission.queryParams.startTime=(0,c.default)().day("Monday").format("YYYY-MM-DD"),this.commission.queryParams.endTime=(0,c.default)().add(1,"d").format("YYYY-MM-DD");break;case"本月":this.commission.queryParams.startTime=(0,c.default)().startOf("month").format("YYYY-MM-DD"),this.commission.queryParams.endTime=(0,c.default)().add(1,"d").format("YYYY-MM-DD");break;case"上月":this.commission.queryParams.startTime=(0,c.default)().subtract(1,"M").startOf("month").format("YYYY-MM-DD"),this.commission.queryParams.endTime=(0,c.default)().startOf("month").format("YYYY-MM-DD");break;case"近三个月":this.commission.queryParams.endTime=(0,c.default)().add(1,"d").format("YYYY-MM-DD"),this.commission.queryParams.startTime=(0,c.default)().add(1,"d").subtract(3,"M").format("YYYY-MM-DD");break;default:this.commission.queryParams.endTime=null,this.commission.queryParams.startTime=null}},loadCommissions:function(){var t=(0,r.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.commission.queryParams.page+=1,this.initData();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),initData:function(){var t=(0,r.default)(a.default.mark(function t(){var e=this;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.commission.noMore){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,l.loadData)(function(){return n.default.getCommissionList(e.commission.queryParams)},function(t){if(0===t.length)e.commission.noMore=!0;else{var i;(i=e.commission.list).push.apply(i,(0,o.default)(t))}},l.defaultPreHandler);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}}},nLB1:function(t,e){}});
//# sourceMappingURL=58.6ae6e5696722732b1564.js.map