webpackJsonp([56],{"73g0":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("lKYf"),r=a.n(i),s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Withdraw"},[a("div",{staticClass:"withdraw-head"},[a("div",{staticClass:"ui-flex",on:{click:function(e){t.divideTypePicker.show=!0}}},[a("mt-cell",{attrs:{title:t.withdraw.queryParams.divideType,"is-link":""}})],1),t._v(" "),a("div",{staticClass:"ui-flex",on:{click:function(e){t.timePicker.show=!0}}},[a("mt-cell",{attrs:{title:t.timePickerValue,"is-link":""}})],1),t._v(" "),a("mt-popup",{staticClass:"types",attrs:{position:"bottom","lock-scroll":"true"},model:{value:t.divideTypePicker.show,callback:function(e){t.$set(t.divideTypePicker,"show",e)},expression:"divideTypePicker.show"}},[a("div",{on:{touchmove:function(t){t.preventDefault()}}},[a("mt-picker",{ref:"typePickerObject",attrs:{slots:t.divideTypePicker.slot,valueKey:"text"}}),t._v(" "),a("mt-button",{staticClass:"popup-button",attrs:{type:"primary"},on:{click:function(e){t.chooseType()}}},[t._v("确定")])],1)]),t._v(" "),a("mt-popup",{staticClass:"times",attrs:{position:"bottom","lock-scroll":"true"},model:{value:t.timePicker.show,callback:function(e){t.$set(t.timePicker,"show",e)},expression:"timePicker.show"}},[a("div",{on:{touchmove:function(t){t.preventDefault()}}},[a("mt-picker",{ref:"timePickerObject",attrs:{slots:t.timePicker.slot},on:{change:t.timeChange}}),t._v(" "),a("mt-button",{staticClass:"popup-button",attrs:{type:"primary"},on:{click:function(e){t.chooseTime()}}},[t._v("确定")])],1)])],1),t._v(" "),a("div",{staticClass:"paystate"},[a("mt-cell",{staticClass:"money",attrs:{title:"支付状态",value:t.accountPayment.status}}),t._v(" "),a("mt-cell",{attrs:{title:"提现日期",value:t.resetTime(t.accountPayment.createTime)}}),t._v(" "),a("mt-cell",{attrs:{title:"总金额",value:t.accountPayment.amount}}),t._v(" "),a("mt-cell",{attrs:{title:"发放日期",value:t.resetTime(t.accountPayment.completeTime)}}),t._v(" "),"支付失败"===t.accountPayment.status?a("router-link",{staticClass:"personInfo-link",attrs:{to:{path:"/PersonInfo",query:{}}}},[a("mt-button",{staticClass:"consummate",attrs:{type:"primary",size:"large"}},[t._v("去完善个人信息")])],1):t._e()],1),t._v(" "),a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadWithdrawDetails,expression:"loadWithdrawDetails"}],staticClass:"withdraw-list",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10"}},[t._l(t.withdraw.list,function(e){return a("div",{staticClass:"list-for",on:{click:function(a){t.goToPageWithdrawDetail(e.accountSettleId)}}},[a("mt-cell",{staticClass:"money",attrs:{title:"佣金",value:"￥ "+e.dividePrice}}),t._v(" "),a("mt-cell",{attrs:{title:"订单编号",value:e.orderCode}}),t._v(" "),a("mt-cell",{attrs:{title:"佣金类别",value:e.divideType}}),t._v(" "),a("mt-cell",{attrs:{title:"生成日期",value:e.created.slice(0,10)}})],1)}),t._v(" "),0===t.withdraw.list.length?a("div",{staticClass:"null_data"},[a("div",{staticClass:"null"}),t._v(" "),a("p",[t._v("亲，暂无数据哦~~")])]):a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.withdraw.noMore,expression:"withdraw.noMore"}],staticClass:"load noMore"},[t._v("已无更多")])])],2)])},staticRenderFns:[]},n=function(t){a("Nt/i")},l=a("VU/8")(r.a,s,!1,n,"data-v-d7f8e48e",null);e.default=l.exports},"Nt/i":function(t,e){},lKYf:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(a("Xxa5")),s=i(a("Gu7T")),n=i(a("exGp")),l=i(a("3D1+")),u=i(a("PJh5")),o=a("JaHG");e.default={name:"WithdrawDetailList",data:function(){return{typePickerObject:"",accountPayment:{status:null,completeTime:null,createTime:null,amount:0},divideTypePicker:{value:"全部",slot:[{flex:1,values:[{code:null,ifDefault:!0,text:"全部",value:null}],className:"Types",textAlign:"center"}],show:!1},timePicker:{value:"全部",slot:[{flex:1,values:["全部","今日","本周","本月","上月","近三个月"],className:"Times",textAlign:"center"}],show:!1},withdraw:{list:[],loading:!1,noMore:!1,queryParams:{paymentId:null,divideType:"全部",page:0,limit:5,startTime:null,endTime:null}},isInputInvoice:null,timePickerValue:"全部"}},watch:{"accountPayment.status":function(t){"分配金额失败"===t&&(this.accountPayment.status="银行处理中")}},beforeCreate:function(){this.$nextTick(function(){this.withdraw.queryParams.paymentId=this.$route.query.paymentId})},created:function(){var t=(0,n.default)(r.default.mark(function t(){var e=this;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.loadData)(function(){return l.default.getDivideType()},function(t){var a;(a=e.divideTypePicker.slot[0].values).push.apply(a,(0,s.default)(t))},o.defaultPreHandler,!0);case 2:return t.next=4,(0,o.loadData)(function(){return l.default.getAccountPayment(e.withdraw.queryParams.paymentId)},function(t){e.accountPayment=t},o.defaultPreHandler);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{chooseTime:function(){var t=this.$refs.timePickerObject.getValues()[0];this.timePicker.show=!1,this.timePickerValue=t,this.withdraw.queryParams.page=1,this.withdraw.list=[],this.withdraw.noMore=!1,this.initData()},chooseType:function(){var t=this.$refs.typePickerObject.getValues()[0].text;this.divideTypePicker.show=!1,this.withdraw.queryParams.divideType=t,this.withdraw.queryParams.page=1,this.withdraw.list=[],this.withdraw.noMore=!1,this.initData()},resetTime:function(t){return t?t.slice(0,10):""},goToPageWithdrawDetail:function(t){this.$router.push({path:"CommissionDetail",query:{accountSettleId:t}})},timeChange:function(t,e){switch(e[0]){case"今日":this.withdraw.queryParams.startTime=(0,u.default)().format("YYYY-MM-DD"),this.withdraw.queryParams.endTime=(0,u.default)().add(1,"d").format("YYYY-MM-DD");break;case"本周":this.withdraw.queryParams.startTime=(0,u.default)().day("Monday").format("YYYY-MM-DD"),this.withdraw.queryParams.endTime=(0,u.default)().add(1,"d").format("YYYY-MM-DD");break;case"本月":this.withdraw.queryParams.startTime=(0,u.default)().startOf("month").format("YYYY-MM-DD"),this.withdraw.queryParams.endTime=(0,u.default)().add(1,"d").format("YYYY-MM-DD");break;case"上月":this.withdraw.queryParams.startTime=(0,u.default)().subtract(1,"M").startOf("month").format("YYYY-MM-DD"),this.withdraw.queryParams.endTime=(0,u.default)().startOf("month").format("YYYY-MM-DD");break;case"近三个月":this.withdraw.queryParams.endTime=(0,u.default)().add(1,"d").format("YYYY-MM-DD"),this.withdraw.queryParams.startTime=(0,u.default)().add(1,"d").subtract(3,"M").format("YYYY-MM-DD");break;default:this.withdraw.queryParams.endTime=null,this.withdraw.queryParams.startTime=null}},loadWithdrawDetails:function(){this.withdraw.queryParams.page+=1,this.initData()},initData:function(){var t=(0,n.default)(r.default.mark(function t(){var e=this;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.withdraw.noMore){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,o.loadData)(function(){return l.default.getWithdrawDetailList(e.withdraw.queryParams)},function(t){if(0===t.length)e.withdraw.noMore=!0;else{var a;(a=e.withdraw.list).push.apply(a,(0,s.default)(t))}},o.defaultPreHandler);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}}}});
//# sourceMappingURL=56.8deda98382f000ab3f4e.js.map