webpackJsonp([46],{"/Bzb":function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(i("Gu7T")),s=a(i("Xxa5")),o=a(i("exGp")),l=a(i("3D1+")),r=i("JaHG");e.default={name:"InvoiceList",data:function(){return{page:1,invoiceList:[],noMore:!0,loading:!1,invoiceSummary:{}}},created:function(){var t=(0,o.default)(s.default.mark(function t(){var e=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,r.loadData)(function(){return l.default.getInvoiceSummary()},function(t){e.invoiceSummary=t},r.defaultPreHandler,!0);case 2:return t.next=4,(0,r.loadData)(function(){return l.default.getInvoiceList(e.page)},function(t){e.invoiceList=t.invoiceDtos},r.defaultPreHandler);case 4:this.page=Math.ceil(this.invoiceList.length/5),this.noMore=this.invoiceList.length<5*this.page;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{goToPageSpecialInvoice:function(){this.$router.push({path:"SpecialInvoice",query:{}})},goToPageInvoiceDetail:function(t){this.$router.push({path:"InvoiceDetail",query:{invoiceId:t}})},goToPageSubmitInvoice:function(){this.$router.push({path:"SubmitInvoice",query:{}})},loadMore:function(){var t=(0,o.default)(s.default.mark(function t(){var e,i=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.noMore){t.next=2;break}return t.abrupt("return");case 2:return this.loading=!0,this.page+=1,e=this,t.next=7,(0,r.loadData)(function(){return l.default.getInvoiceList(i.page)},function(t){var i;(i=e.invoiceList).push.apply(i,(0,n.default)(t.invoiceDtos))},r.defaultPreHandler,!0);case 7:e.noMore=e.invoiceList.length<5*this.page,this.loading=!1;case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}}},"4ZdF":function(t,e){},avJg:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("/Bzb"),n=i.n(a),s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"invoice-box"},[i("div",{staticClass:"invoice-head"},[i("div",{staticClass:"ui-flex"},[i("p",[t._v("需开金额")]),t._v(" "),i("span",[t._v(t._s(t.invoiceSummary.invoiceAmount))])]),t._v(" "),i("div",{staticClass:"ui-flex"},[i("p",[t._v("待确认金额")]),t._v(" "),i("span",[t._v(t._s(t.invoiceSummary.pendingInvoiceAmount))])])]),t._v(" "),i("div",{staticClass:"invoice-info"},[i("mt-cell",{attrs:{title:"公司",value:"北京众安保修科技有限公司"}}),t._v(" "),i("mt-cell",{attrs:{title:"纳税人识别号",value:"91110105MA007LG12P"}}),t._v(" "),i("mt-cell",{attrs:{title:"开票内容",value:"维修服务费 或 服务费"}}),t._v(" "),i("mt-cell",{staticClass:"mt-line-height",attrs:{title:"邮寄地址",value:"北京市东城区朝阳门银河SOHO D座5层50510室 穆青（收）010-65206750"}})],1),t._v(" "),i("div",{staticClass:"specialInvoice-link",on:{click:function(e){t.goToPageSpecialInvoice()}}},[i("mt-cell",{attrs:{title:"专票信息"}})],1),t._v(" "),i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"invoice-list",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"300"}},[t._l(t.invoiceList,function(e){return i("div",{key:e.id,staticClass:"invoice-list-body",on:{click:function(i){t.goToPageInvoiceDetail(e.id)}}},[i("mt-cell",{staticClass:"invoice-number",attrs:{title:"发票号码",value:e.number}}),t._v(" "),i("mt-cell",{attrs:{title:"发票金额",value:e.amount}}),t._v(" "),i("mt-cell",{attrs:{title:"提交时间",value:e.submitTime.slice(0,10)}}),t._v(" "),i("mt-cell",{attrs:{title:"状态"}},[i("span",{class:{database:"待确认"===e.statusStr||"审核未通过"===e.statusStr,star:"新增"===e.statusStr,leaf:"已冲抵"===e.statusStr,bars:"确认"===e.statusStr}},[t._v(t._s(e.statusStr))])]),t._v(" "),"审核未通过"===e.statusStr?i("mt-cell",{attrs:{title:"拒绝原因",value:e.denialReason}}):t._e()],1)}),t._v(" "),0===t.invoiceList.length?i("div",{staticClass:"null_data"},[i("div",{staticClass:"null"}),t._v(" "),i("p",[t._v("暂无发票~~")])]):i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.noMore,expression:"noMore"}],staticClass:"load noMore"},[t._v("已无更多")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"load"},[i("mt-spinner",{attrs:{color:"#d4d4d4",type:"fading-circle"}}),t._v("\n        正在加载\n      ")],1)])],2),t._v(" "),i("div",{staticClass:"bottom-button",on:{click:function(e){t.goToPageSubmitInvoice()}}},[i("mt-button",{attrs:{type:"primary",size:"large"}},[t._v("上传发票")])],1)])},staticRenderFns:[]},o=function(t){i("4ZdF")},l=i("VU/8")(n.a,s,!1,o,"data-v-4e12fffd",null);e.default=l.exports}});
//# sourceMappingURL=46.6096ffd9c256fa9623b2.js.map