{"version":3,"sources":["webpack:///./src/components/task/decomposition_task.vue?9de1","webpack:///./src/components/task/decomposition_task.vue","webpack:///src/components/task/decomposition_task.vue"],"names":["task_decomposition_task","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","title","detail","task","taskName","_l","key","id","name","_s","target","targetType","taskAllocateRate","distribute","progressRate","progress","reward","length","_e","taskIncomeObject","incomeAllocate","incomeValue","value","incomeAllocateRate","on","click","$event","filterPickerObject","popupVisible","is-link","filterOrg","filterPosition","position","model","callback","$$v","$set","expression","ref","slots","value-key","visibleItemCount","showToolbar","change","onValuesChange","setFilter","tag","subTask","index","personName","size","type","taskStatus","finishRate","organizationNamePath","positionName","class","pb_10","database","star","leaf","aria-hidden","touchstart","btnStart","touchend","btnEnd","resetTask","personTaskId","submit","income","goToPageSub","personId","taskId","directives","rawName","infinite-scroll-disabled","infinite-scroll-distance","decomposition","color","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","decomposition_task_default","a","__webpack_exports__","_vuex","_mintUi","_utils","created","_ref","_asyncToGenerator3","default","_regenerator2","mark","_callee","partnerId","getTaskList","getSubTasksDetail","setPositionName","setStorageFilter","removeStorageDecomposition","next","methods","_extends3","mapMutations","mapActions","storePersonTask","params","page","list","initSubTask","sameLevelSubTask","initSubTaskPerson","subPersonTaskIds","organizationId","_this3","arr","subLevelSubTask","object","canDecomposeAndProgress","setIncome","taskItemId","status","_iteratorNormalCompletion","item","_step","incomeObject","rewardAllocateValue","_this4","subTaskItem","organizationName","_iteratorNormalCompletion2","_step2","_this5","picker","v","filterPicker","children","_this6","storeStorageDecomposition","event","same","res","_this8","wrap","_context10","param","_this9","_showSubLevelSubTask","end","computed","mapState","storageDecomposition","personTask"],"mappings":"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","file":"static/js/19.97392abd0bc2a99ddedb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Decomposition\"},[_c('div',{staticClass:\"form\"},[_c('div',{staticClass:\"title bg_img_none\"},[_c('mt-cell',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"任务名称\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"bg_img_none\"},[_c('mt-cell',{attrs:{\"title\":_vm.detail.task.taskName}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"title bg_img_none\"},[_c('mt-cell',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"任务概览\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"box\"},_vm._l((_vm.detail.task.taskItems),function(task){return _c('div',{key:task.id,staticClass:\"container\"},[_c('div',{staticClass:\"bg_img_none\"},[_c('mt-cell',{attrs:{\"title\":task.name}},[_c('span',{staticClass:\"fontfamily\"},[_vm._v(_vm._s(task.target))]),_vm._v(\" \"),(task.targetType === '销售量')?_c('span',{staticClass:\"fontfamily\"},[_vm._v(\"单\")]):_c('span',{staticClass:\"fontfamily\"},[_vm._v(\"元\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"bg_img_none computed\"},[_c('mt-cell',{attrs:{\"title\":\"已分配\"}},[_c('div',{staticClass:\"flex t-l\"},[_vm._v(_vm._s(task.taskAllocateRate)+\"%\")]),_vm._v(\" \"),_c('div',{staticClass:\"flex t-r\"},[_vm._v(_vm._s(task.distribute))])]),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"已完成\"}},[_c('div',{staticClass:\"flex t-l\"},[_vm._v(_vm._s(task.progressRate)+\"%\")]),_vm._v(\" \"),_c('div',{staticClass:\"flex t-r\"},[_vm._v(_vm._s(task.progress))])])],1)])})),_vm._v(\" \"),(_vm.detail.task.reward.length > 0)?_c('div',{staticClass:\"title bg_img_none\"},[_c('mt-cell',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"奖励概览\")])])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"first_img\"},_vm._l((_vm.detail.task.reward),function(reward){return _c('mt-cell',{key:reward.id,attrs:{\"title\":reward.taskIncomeObject + '：'+ reward.incomeAllocate + '/' + reward.incomeValue,\"value\":'已分配：'+ reward.incomeAllocateRate +'%'}})}))]),_vm._v(\" \"),_c('div',{staticClass:\"form title bg_img_none\"},[_c('mt-cell',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"人员筛选\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"popup bg_img_none\",on:{\"click\":function($event){_vm.filterPickerObject.popupVisible = true}}},[_c('mt-cell',{staticClass:\"filter\",attrs:{\"is-link\":\"\"}},[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"当前显示\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.filterPickerObject.filterOrg))]),_vm._v(\" \"),_c('span',{staticClass:\"mar-l-r\"},[_vm._v(\"—\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.filterPickerObject.filterPosition))])])],1),_vm._v(\" \"),_c('mt-popup',{attrs:{\"position\":\"middle\"},model:{value:(_vm.filterPickerObject.popupVisible),callback:function ($$v) {_vm.$set(_vm.filterPickerObject, \"popupVisible\", $$v)},expression:\"filterPickerObject.popupVisible\"}},[_c('mt-picker',{ref:\"filterPicker\",attrs:{\"slots\":_vm.filterPickerObject.slots,\"value-key\":\"name\",\"visibleItemCount\":3,\"showToolbar\":true},on:{\"change\":_vm.onValuesChange}}),_vm._v(\" \"),_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.setFilter()}}},[_vm._v(\"确定\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"form title bg_img_none\"},[_c('mt-cell',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"下级任务\")])])],1),_vm._v(\" \"),_c('transition-group',{attrs:{\"name\":\"list\",\"tag\":\"div\"}},_vm._l((_vm.showSameLevelSubTask),function(subTask,index){return _c('div',{key:index,staticClass:\"case\"},[_c('div',{staticClass:\"subTask bg_img_none\"},[_c('mt-cell',[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(subTask.personName)),(subTask.taskStatus)?_c('mt-badge',{attrs:{\"size\":\"normal\",\"type\":\"warning\"}},[_vm._v(_vm._s(subTask.taskStatus))]):_vm._e()],1),_vm._v(\" \"),(subTask.task && subTask.taskStatus !== '新建')?_c('span',{staticClass:\"subTaskSpan\"},[_vm._v(\"完成进度: \"+_vm._s(subTask.task.finishRate)+\"%\")]):_vm._e()]),_vm._v(\" \"),_c('mt-cell',[_c('span',{staticClass:\"organizeTitle\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"组织\")]),_vm._v(\" \"),_c('span',{staticClass:\"organizeValue\"},[_vm._v(_vm._s(subTask.organizationNamePath))])]),_vm._v(\" \"),_c('mt-cell',[_c('span',{staticClass:\"organizeTitle\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"职位\")]),_vm._v(\" \"),_c('span',{staticClass:\"organizeValue\"},[_vm._v(_vm._s(subTask.positionName))])])],1),_vm._v(\" \"),(subTask.task)?_c('div',{staticClass:\"form\",class:{pb_10: subTask.taskStatus === '新建'}},[_c('div',{staticClass:\"bg_img_none\"},_vm._l((subTask.task.taskItems),function(task){return _c('div',{key:task.id},[_c('div',{staticClass:\"bg_img_none\"},[_c('mt-cell',{attrs:{\"title\":task.name}},[_c('span',{staticClass:\"fontfamily\"},[_vm._v(_vm._s(task.target))]),_vm._v(\" \"),(task.targetType === '销售量')?_c('span',{staticClass:\"fontfamily\"},[_vm._v(\"单\")]):_c('span',{staticClass:\"fontfamily\"},[_vm._v(\"元\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"bg_img_none computed\"},[_c('mt-cell',{attrs:{\"title\":\"已完成\"}},[_c('div',{staticClass:\"flex t-l\"},[_vm._v(_vm._s(task.progressRate)+\"%\")]),_vm._v(\" \"),_c('div',{staticClass:\"flex t-r\"},[_vm._v(_vm._s(task.progress))])])],1)])})),_vm._v(\" \"),(subTask.task.reward.length > 0)?_c('div',{staticClass:\"bg_img_none\"},[_c('mt-cell',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},_vm._l((subTask.task.reward),function(reward){return _c('span',{staticClass:\"t-l w-3 f-s-10\",class:{ database: reward.taskIncomeObject === '佣金', star: reward.taskIncomeObject === '经验', leaf: reward.taskIncomeObject === '积分'}},[_c('i',{staticClass:\"fa\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),(reward.taskIncomeObject === '佣金')?_c('span',[_vm._v(\"+\"+_vm._s(reward.incomeValue)+\" 元\")]):_c('span',[_vm._v(\"+\"+_vm._s(reward.incomeValue)+\"/\"+_vm._s(reward.taskIncomeObject))])])}))])],1):_vm._e(),_vm._v(\" \"),(subTask.taskStatus === '新建')?_c('div',{staticClass:\"btn submit\",on:{\"touchstart\":function($event){_vm.btnStart()},\"touchend\":function($event){_vm.btnEnd()}}},[_c('mt-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":function($event){_vm.resetTask(subTask.personTaskId)}}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('mt-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":function($event){_vm.submit(subTask.personTaskId, 1)}}},[_vm._v(\"提交\")])],1):_vm._e()]):_c('div',{staticClass:\"form\",class:{pb_10: _vm.income}},[_c('div',{staticClass:\"bg_img_none\"},_vm._l((_vm.detail.task.taskItems),function(task){return _c('div',{key:task.id},[_c('mt-cell',{attrs:{\"title\":task.name,\"value\":\"未分配\"}})],1)})),_vm._v(\" \"),(_vm.detail.task.reward.length > 0)?_c('div',{staticClass:\"bg_img_none\"},[_c('mt-cell',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},_vm._l((_vm.detail.task.reward),function(reward){return _c('span',{staticClass:\"t-l w-3 f-s-10\",class:{ database: reward.taskIncomeObject === '佣金', star: reward.taskIncomeObject === '经验', leaf: reward.taskIncomeObject === '积分'}},[_c('i',{staticClass:\"fa\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),(reward.taskIncomeObject === '佣金')?_c('span',[_vm._v(\"+0 元\")]):_c('span',[_vm._v(\"+0/\"+_vm._s(reward.taskIncomeObject))])])}))])],1):_vm._e(),_vm._v(\" \"),(_vm.income)?_c('div',{staticClass:\"btn\",on:{\"touchstart\":function($event){_vm.btnStart()},\"touchend\":function($event){_vm.btnEnd()}}},[_c('mt-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":function($event){_vm.goToPageSub(subTask.personId, 1, _vm.detail.taskId)}}},[_vm._v(\"分配\\n          \")])],1):_vm._e()])])})),_vm._v(\" \"),_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],attrs:{\"infinite-scroll-disabled\":\"loading\",\"infinite-scroll-distance\":\"300\"}},[_c('transition-group',{attrs:{\"name\":\"list\",\"tag\":\"div\"}},_vm._l((_vm.showSubLevelSubTask),function(subTask,index){return _c('div',{key:index,staticClass:\"case\"},[_c('div',{staticClass:\"subTask bg_img_none\"},[_c('mt-cell',[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(subTask.personName)),(subTask.taskStatus)?_c('mt-badge',{attrs:{\"size\":\"normal\",\"type\":\"warning\"}},[_vm._v(_vm._s(subTask.taskStatus))]):_vm._e()],1),_vm._v(\" \"),(subTask.task && subTask.taskStatus !== '新建')?_c('span',{staticClass:\"subTaskSpan\"},[_vm._v(\"完成进度: \"+_vm._s(subTask.task.finishRate)+\"%\")]):_vm._e()]),_vm._v(\" \"),_c('mt-cell',[_c('span',{staticClass:\"organizeTitle\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"组织\")]),_vm._v(\" \"),_c('span',{staticClass:\"organizeValue\"},[_vm._v(_vm._s(subTask.organizationNamePath))])]),_vm._v(\" \"),_c('mt-cell',[_c('span',{staticClass:\"organizeTitle\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"职位\")]),_vm._v(\" \"),_c('span',{staticClass:\"organizeValue\"},[_vm._v(_vm._s(subTask.positionName))])])],1),_vm._v(\" \"),(subTask.task)?_c('div',{staticClass:\"form\",class:{pb_10: subTask.taskStatus === '新建'}},[_c('div',{staticClass:\"bg_img_none\"},_vm._l((subTask.task.taskItems),function(task){return _c('div',{key:task.id},[_c('div',{staticClass:\"bg_img_none\"},[_c('mt-cell',{attrs:{\"title\":task.name}},[_c('span',{staticClass:\"fontfamily\"},[_vm._v(_vm._s(task.target))]),_vm._v(\" \"),(task.targetType === '销售量')?_c('span',{staticClass:\"fontfamily\"},[_vm._v(\"单\")]):_c('span',{staticClass:\"fontfamily\"},[_vm._v(\"元\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"bg_img_none computed\"},[_c('mt-cell',{attrs:{\"title\":\"已分配\"}},[_c('div',{staticClass:\"flex t-l\"},[_vm._v(_vm._s(task.taskAllocateRate)+\"%\")]),_vm._v(\" \"),_c('div',{staticClass:\"flex t-r\"},[_vm._v(_vm._s(task.distribute))])]),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"已完成\"}},[_c('div',{staticClass:\"flex t-l\"},[_vm._v(_vm._s(task.progressRate)+\"%\")]),_vm._v(\" \"),_c('div',{staticClass:\"flex t-r\"},[_vm._v(_vm._s(task.progress))])])],1)])})),_vm._v(\" \"),(subTask.task.reward.length > 0)?_c('div',{staticClass:\"bg_img_none\"},[_c('mt-cell',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},_vm._l((subTask.task.reward),function(reward){return _c('span',{staticClass:\"t-l w-3 f-s-10\",class:{ database: reward.taskIncomeObject === '佣金', star: reward.taskIncomeObject === '经验', leaf: reward.taskIncomeObject === '积分'}},[_c('i',{staticClass:\"fa\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),(reward.taskIncomeObject === '佣金')?_c('span',[_vm._v(\"+\"+_vm._s(reward.incomeValue)+\" 元\")]):_c('span',[_vm._v(\"+\"+_vm._s(reward.incomeValue)+\"/\"+_vm._s(reward.taskIncomeObject))])])}))])],1):_vm._e(),_vm._v(\" \"),(subTask.taskStatus === '新建')?_c('div',{staticClass:\"btn submit\",on:{\"touchstart\":function($event){_vm.btnStart()},\"touchend\":function($event){_vm.btnEnd()}}},[_c('mt-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":function($event){_vm.resetTask(subTask.personTaskId)}}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('mt-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":function($event){_vm.submit(subTask.personTaskId, 0)}}},[_vm._v(\"提交\")])],1):_vm._e()]):_c('div',{staticClass:\"form\",class:{pb_10: subTask.decomposition && _vm.income}},[_c('div',{staticClass:\"bg_img_none\"},_vm._l((_vm.detail.task.taskItems),function(task){return _c('div',{key:task.id},[_c('mt-cell',{attrs:{\"title\":task.name,\"value\":\"未分配\"}})],1)})),_vm._v(\" \"),(_vm.detail.task.reward.length > 0)?_c('div',{staticClass:\"bg_img_none\"},[_c('mt-cell',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},_vm._l((_vm.detail.task.reward),function(reward){return _c('span',{staticClass:\"t-l w-3 f-s-10\",class:{ database: reward.taskIncomeObject === '佣金', star: reward.taskIncomeObject === '经验', leaf: reward.taskIncomeObject === '积分'}},[_c('i',{staticClass:\"fa\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),(reward.taskIncomeObject === '佣金')?_c('span',[_vm._v(\"+0 元\")]):_c('span',[_vm._v(\"+0/\"+_vm._s(reward.taskIncomeObject))])])}))])],1):_vm._e(),_vm._v(\" \"),(subTask.decomposition && _vm.income)?_c('div',{staticClass:\"btn\",on:{\"touchstart\":function($event){_vm.btnStart()},\"touchend\":function($event){_vm.btnEnd()}}},[_c('mt-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":function($event){_vm.goToPageSub(subTask.personId, 0, _vm.detail.taskId)}}},[_vm._v(\"分配\\n            \")])],1):_vm._e()])])}))],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"load\"},[_c('mt-spinner',{attrs:{\"color\":\"#d4d4d4\",\"type\":\"fading-circle\"}}),_vm._v(\"\\n    正在加载\\n  \")],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.filterPickerObject.onFilterNone),expression:\"filterPickerObject.onFilterNone\"}],staticClass:\"null_data\"},[_c('div',{staticClass:\"null\"}),_vm._v(\" \"),_c('p',[_vm._v(\"该筛选条件下人员已分配完任务\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-16ba0e8e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/task/decomposition_task.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-16ba0e8e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./decomposition_task.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./decomposition_task.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-16ba0e8e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./decomposition_task.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-16ba0e8e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/task/decomposition_task.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"Decomposition\">\n    <div class=\"form\">\n      <div class=\"title bg_img_none\">\n        <mt-cell><p slot=\"title\">任务名称</p></mt-cell>\n      </div>\n      <div class=\"box\">\n        <div class=\"container\">\n          <div class=\"bg_img_none\">\n            <mt-cell :title=\"detail.task.taskName\"></mt-cell>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"title bg_img_none\">\n        <mt-cell><p slot=\"title\">任务概览</p></mt-cell>\n      </div>\n      <div class=\"box\">\n        <div class=\"container\" v-for=\"task in detail.task.taskItems\" :key=\"task.id\">\n          <div class=\"bg_img_none\">\n            <mt-cell :title=\"task.name\">\n              <span class=\"fontfamily\">{{task.target}}</span>\n              <span class=\"fontfamily\" v-if=\"task.targetType === '销售量'\">单</span>\n              <span class=\"fontfamily\" v-else>元</span>\n            </mt-cell>\n          </div>\n          <div class=\"bg_img_none computed\">\n            <mt-cell title=\"已分配\">\n              <div class=\"flex t-l\">{{task.taskAllocateRate}}%</div>\n              <div class=\"flex t-r\">{{task.distribute}}</div>\n            </mt-cell>\n            <mt-cell title=\"已完成\">\n              <div class=\"flex t-l\">{{task.progressRate}}%</div>\n              <div class=\"flex t-r\">{{task.progress}}</div>\n            </mt-cell>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"title bg_img_none\" v-if=\"detail.task.reward.length > 0\">\n        <mt-cell><p slot=\"title\">奖励概览</p></mt-cell>\n      </div>\n      <div class=\"first_img\">\n        <mt-cell v-for=\"reward in detail.task.reward\"\n                 :key=\"reward.id\"\n                 :title=\"reward.taskIncomeObject + '：'+ reward.incomeAllocate + '/' + reward.incomeValue\"\n                 :value=\"'已分配：'+ reward.incomeAllocateRate +'%'\"></mt-cell>\n      </div>\n    </div>\n\n    <div class=\"form title bg_img_none\">\n      <mt-cell>\n        <p slot=\"title\">人员筛选</p>\n      </mt-cell>\n    </div>\n    <div class=\"popup bg_img_none\" @click=\"filterPickerObject.popupVisible = true\">\n      <mt-cell class=\"filter\" is-link>\n        <span slot=\"title\">当前显示</span>\n        <span>{{filterPickerObject.filterOrg}}</span>\n        <span class=\"mar-l-r\">—</span>\n        <span>{{filterPickerObject.filterPosition}}</span>\n      </mt-cell>\n    </div>\n    <mt-popup\n      v-model=\"filterPickerObject.popupVisible\"\n      position=\"middle\">\n      <mt-picker ref=\"filterPicker\" :slots=\"filterPickerObject.slots\" value-key=\"name\" @change=\"onValuesChange\" :visibleItemCount=\"3\"\n                 :showToolbar=\"true\"></mt-picker>\n      <button class=\"button\" @click=\"setFilter()\">确定</button>\n    </mt-popup>\n\n    <div class=\"form title bg_img_none\">\n      <mt-cell>\n        <p slot=\"title\">下级任务</p>\n      </mt-cell>\n    </div>\n    <transition-group name=\"list\" tag=\"div\">\n      <div class=\"case\" v-for=\"(subTask, index) in showSameLevelSubTask\" :key=\"index\">\n        <div class=\"subTask bg_img_none\">\n          <mt-cell>\n            <span slot=\"title\">{{subTask.personName}}<mt-badge size=\"normal\" type=\"warning\" v-if=\"subTask.taskStatus\">{{ subTask.taskStatus }}</mt-badge></span>\n            <span v-if=\"subTask.task && subTask.taskStatus !== '新建'\" class=\"subTaskSpan\">完成进度: {{ subTask.task.finishRate }}%</span>\n          </mt-cell>\n          <mt-cell>\n            <span class=\"organizeTitle\" slot=\"title\">组织</span>\n            <span class=\"organizeValue\">{{ subTask.organizationNamePath }}</span>\n          </mt-cell>\n          <mt-cell>\n            <span class=\"organizeTitle\" slot=\"title\">职位</span>\n            <span class=\"organizeValue\">{{ subTask.positionName }}</span>\n          </mt-cell>\n        </div>\n        <div class=\"form\" :class=\"{pb_10: subTask.taskStatus === '新建'}\" v-if=\"subTask.task\">\n          <div class=\"bg_img_none\">\n            <div v-for=\"task in subTask.task.taskItems\" :key=\"task.id\">\n              <div class=\"bg_img_none\">\n                <mt-cell :title=\"task.name\">\n                  <span class=\"fontfamily\">{{task.target}}</span>\n                  <span class=\"fontfamily\" v-if=\"task.targetType === '销售量'\">单</span>\n                  <span class=\"fontfamily\" v-else>元</span>\n                </mt-cell>\n              </div>\n              <div class=\"bg_img_none computed\">\n                <mt-cell title=\"已完成\">\n                  <div class=\"flex t-l\">{{task.progressRate}}%</div>\n                  <div class=\"flex t-r\">{{task.progress}}</div>\n                </mt-cell>\n              </div>\n            </div>\n          </div>\n          <div class=\"bg_img_none\" v-if=\"subTask.task.reward.length > 0\">\n            <mt-cell>\n              <p slot=\"title\">\n              <span v-for=\"reward in subTask.task.reward\" class=\"t-l w-3 f-s-10\"\n                    :class=\"{ database: reward.taskIncomeObject === '佣金', star: reward.taskIncomeObject === '经验', leaf: reward.taskIncomeObject === '积分'}\">\n                <i class=\"fa\" aria-hidden=\"true\"></i>\n                <span v-if=\"reward.taskIncomeObject === '佣金'\">+{{ reward.incomeValue }} 元</span>\n                <span v-else>+{{ reward.incomeValue }}/{{ reward.taskIncomeObject }}</span>\n              </span>\n              </p>\n            </mt-cell>\n          </div>\n          <div @touchstart=\"btnStart()\" @touchend=\"btnEnd()\" class=\"btn submit\" v-if=\"subTask.taskStatus === '新建'\">\n            <mt-button @click=\"resetTask(subTask.personTaskId)\" type=\"primary\" size=\"large\">重置</mt-button>\n            <mt-button @click=\"submit(subTask.personTaskId, 1)\" type=\"primary\" size=\"large\">提交</mt-button>\n          </div>\n        </div>\n        <div class=\"form\" :class=\"{pb_10: income}\" v-else>\n          <div class=\"bg_img_none\">\n            <div v-for=\"task in detail.task.taskItems\" :key=\"task.id\">\n              <mt-cell :title=\"task.name\" value=\"未分配\"></mt-cell>\n            </div>\n          </div>\n          <div class=\"bg_img_none\" v-if=\"detail.task.reward.length > 0\">\n            <mt-cell>\n              <p slot=\"title\">\n              <span v-for=\"reward in detail.task.reward\" class=\"t-l w-3 f-s-10\"\n                    :class=\"{ database: reward.taskIncomeObject === '佣金', star: reward.taskIncomeObject === '经验', leaf: reward.taskIncomeObject === '积分'}\">\n                <i class=\"fa\" aria-hidden=\"true\"></i>\n                <span v-if=\"reward.taskIncomeObject === '佣金'\">+0 元</span>\n                <span v-else>+0/{{ reward.taskIncomeObject }}</span>\n              </span>\n              </p>\n            </mt-cell>\n          </div>\n          <div @touchstart=\"btnStart()\" @touchend=\"btnEnd()\" class=\"btn\" v-if=\"income\">\n            <mt-button @click=\"goToPageSub(subTask.personId, 1, detail.taskId)\" type=\"primary\" size=\"large\">分配\n            </mt-button>\n          </div>\n        </div>\n      </div>\n    </transition-group>\n    <div v-infinite-scroll=\"loadMore\"\n         infinite-scroll-disabled=\"loading\"\n         infinite-scroll-distance=\"300\">\n      <transition-group name=\"list\" tag=\"div\">\n        <div class=\"case\" v-for=\"(subTask, index) in showSubLevelSubTask\" :key=\"index\">\n          <div class=\"subTask bg_img_none\">\n            <mt-cell>\n              <span slot=\"title\">{{subTask.personName}}<mt-badge size=\"normal\" type=\"warning\" v-if=\"subTask.taskStatus\">{{ subTask.taskStatus }}</mt-badge></span>\n              <span v-if=\"subTask.task && subTask.taskStatus !== '新建'\" class=\"subTaskSpan\">完成进度: {{ subTask.task.finishRate }}%</span>\n            </mt-cell>\n            <mt-cell>\n              <span class=\"organizeTitle\" slot=\"title\">组织</span>\n              <span class=\"organizeValue\">{{ subTask.organizationNamePath }}</span>\n            </mt-cell>\n            <mt-cell>\n              <span class=\"organizeTitle\" slot=\"title\">职位</span>\n              <span class=\"organizeValue\">{{ subTask.positionName }}</span>\n            </mt-cell>\n          </div>\n          <div class=\"form\" :class=\"{pb_10: subTask.taskStatus === '新建'}\" v-if=\"subTask.task\">\n            <div class=\"bg_img_none\">\n              <div v-for=\"task in subTask.task.taskItems\" :key=\"task.id\">\n                <div class=\"bg_img_none\">\n                  <mt-cell :title=\"task.name\">\n                    <span class=\"fontfamily\">{{task.target}}</span>\n                    <span class=\"fontfamily\" v-if=\"task.targetType === '销售量'\">单</span>\n                    <span class=\"fontfamily\" v-else>元</span>\n                  </mt-cell>\n                </div>\n                <div class=\"bg_img_none computed\">\n                  <mt-cell title=\"已分配\">\n                    <div class=\"flex t-l\">{{task.taskAllocateRate}}%</div>\n                    <div class=\"flex t-r\">{{task.distribute}}</div>\n                  </mt-cell>\n                  <mt-cell title=\"已完成\">\n                    <div class=\"flex t-l\">{{task.progressRate}}%</div>\n                    <div class=\"flex t-r\">{{task.progress}}</div>\n                  </mt-cell>\n                </div>\n              </div>\n            </div>\n            <div class=\"bg_img_none\" v-if=\"subTask.task.reward.length > 0\">\n              <mt-cell>\n                <p slot=\"title\">\n                <span v-for=\"reward in subTask.task.reward\" class=\"t-l w-3 f-s-10\"\n                      :class=\"{ database: reward.taskIncomeObject === '佣金', star: reward.taskIncomeObject === '经验', leaf: reward.taskIncomeObject === '积分'}\">\n                  <i class=\"fa\" aria-hidden=\"true\"></i>\n                  <span v-if=\"reward.taskIncomeObject === '佣金'\">+{{ reward.incomeValue }} 元</span>\n                  <span v-else>+{{ reward.incomeValue }}/{{ reward.taskIncomeObject }}</span>\n                </span>\n                </p>\n              </mt-cell>\n            </div>\n            <div @touchstart=\"btnStart()\" @touchend=\"btnEnd()\" class=\"btn submit\" v-if=\"subTask.taskStatus === '新建'\">\n              <mt-button @click=\"resetTask(subTask.personTaskId)\" type=\"primary\" size=\"large\">重置</mt-button>\n              <mt-button @click=\"submit(subTask.personTaskId, 0)\" type=\"primary\" size=\"large\">提交</mt-button>\n            </div>\n          </div>\n          <div class=\"form\" :class=\"{pb_10: subTask.decomposition && income}\" v-else>\n            <div class=\"bg_img_none\">\n              <div v-for=\"task in detail.task.taskItems\" :key=\"task.id\">\n                <mt-cell :title=\"task.name\" value=\"未分配\"></mt-cell>\n              </div>\n            </div>\n            <div class=\"bg_img_none\" v-if=\"detail.task.reward.length > 0\">\n              <mt-cell>\n                <p slot=\"title\">\n                <span v-for=\"reward in detail.task.reward\" class=\"t-l w-3 f-s-10\"\n                      :class=\"{ database: reward.taskIncomeObject === '佣金', star: reward.taskIncomeObject === '经验', leaf: reward.taskIncomeObject === '积分'}\">\n                  <i class=\"fa\" aria-hidden=\"true\"></i>\n                  <span v-if=\"reward.taskIncomeObject === '佣金'\">+0 元</span>\n                  <span v-else>+0/{{ reward.taskIncomeObject }}</span>\n                </span>\n                </p>\n              </mt-cell>\n            </div>\n            <div @touchstart=\"btnStart()\" @touchend=\"btnEnd()\" class=\"btn\" v-if=\"subTask.decomposition && income\">\n              <mt-button @click=\"goToPageSub(subTask.personId, 0, detail.taskId)\" type=\"primary\" size=\"large\">分配\n              </mt-button>\n            </div>\n          </div>\n        </div>\n      </transition-group>\n    </div>\n    <div class=\"load\" v-show=\"loading\">\n      <mt-spinner color=\"#d4d4d4\" type=\"fading-circle\"></mt-spinner>\n      正在加载\n    </div>\n    <div v-show=\"filterPickerObject.onFilterNone\" class=\"null_data\">\n      <div class=\"null\"></div>\n      <p>该筛选条件下人员已分配完任务</p>\n    </div>\n  </div>\n</template>\n<script>\n  import { mapState, mapMutations, mapActions } from 'vuex'\n  import { MessageBox } from 'mint-ui'\n  import api from '../../api/index2'\n  import _ from 'lodash'\n  import { loadData, boolPreHandler } from '../../common/utils'\n\n  export default {\n    name: 'DecompositionTask',\n    data () {\n      return {\n        filterPickerObject: {\n          popupVisible: false,\n          onFilterNone: false,\n          filterOrg: '',\n          filterPosition: '',\n          slots: [\n            {\n              flex: 1,\n              values: [],\n              className: 'slot1',\n              textAlign: 'center'\n            }, {\n              divider: true,\n              content: '-',\n              className: 'slot2'\n            }, {\n              flex: 1,\n              values: [],\n              className: 'slot3',\n              textAlign: 'center'\n            }\n          ]\n        },\n        personTaskId: null,\n        partnerId: null,\n        loading: false,\n        detail: {\n          task: {\n            reward: []\n          },\n          subPersonTaskIds: []\n        },\n        sameLevelSubTask: [],\n        subLevelSubTask: [],\n        showSubLevelSubTask: [],\n        showSameLevelSubTask: [],\n        filterSubLevelSubTask: [],\n        noMore: true\n      }\n    },\n    async created () {\n      this.partnerId = Number(this.$route.query.partnerId)\n      this.personTaskId = Number(this.$route.query.personTaskId)\n      await this.getTaskList()\n      await loadData(() => { return this.initSubTask() })\n      this.getSubTasksDetail()\n      this.setPositionName()\n      this.setStorageFilter()\n      this.noMore = this.filterSubLevelSubTask.length < 10\n    },\n    beforeRouteLeave (to, from, next) {\n      if (to.name !== 'Sub') {\n        this.removeStorageDecomposition()\n      }\n      next()\n    },\n    methods: {\n      ...mapMutations('task', ['removeStorageDecomposition', 'setStorageDecomposition', 'resetSubTask']),\n      ...mapActions(['getOrganizationInfo', 'getSameInfo', 'getSubInfo']),\n      ...mapActions('task', [\n        'afterSubmit',\n        'resetSubPersonTask',\n        'getSubTask',\n        'getPersonTaskList',\n        'getDetail'\n      ]),\n      async getTaskList () {\n        if (_.isEmpty(this.storePersonTask)) {\n          let page = 1\n          let vue = this\n          const list = async function () {\n            await vue.getPersonTaskList(page)\n            let detail = _.find(vue.storePersonTask, {personTaskId: vue.personTaskId})\n            if (!detail) {\n              page++\n              await list()\n            } else {\n              let params = {\n                taskId: detail.taskId,\n                personTaskId: detail.personTaskId\n              }\n              await vue.getDetail(params)\n            }\n          }\n          await list()\n        } else {\n          let detail = _.find(this.storePersonTask, {personTaskId: this.personTaskId})\n          if (!detail.task) {\n            let params = {\n              taskId: detail.taskId,\n              personTaskId: detail.personTaskId\n            }\n            await loadData(() => { return this.getDetail(params) })\n          }\n        }\n      },\n      async initSubTask () {\n        let detail = _.find(this.storePersonTask, {personTaskId: this.personTaskId})\n        if (!detail.sameLevelSubTask) {\n          await this.initSubTaskPerson()\n          let params = {\n            subPersonTaskIds: detail.subPersonTaskIds,\n            partnerId: this.partnerId,\n            taskId: detail.taskId\n          }\n          await this.getSubTask(params)\n        }\n      },\n      async initSubTaskPerson () {\n        await this.getOrganizationInfo(this.$store.state.person.personId)\n        let organizationId = _.find(this.$store.state.person.orgInfo, {partnerId: this.partnerId}).organizationId\n        await this.getSameInfo(organizationId)\n        await this.getSubInfo(organizationId)\n      },\n      getSubTasksDetail () {\n        let arr = _.find(this.storePersonTask, {personTaskId: this.personTaskId})\n        let detail = JSON.parse(JSON.stringify(arr))\n        this.sameLevelSubTask = detail.sameLevelSubTask\n        this.subLevelSubTask = detail.subLevelSubTask\n        this.setTaskProgress(detail)\n        detail.task.reward = _.filter(detail.task.reward, (income) => {\n          return income.taskIncomeObject !== '任务'\n        })\n        _.forEach(detail.task.reward, (item) => {\n          let sameRewardAllocateValue = this.incomeRewardAllocateValue(this.sameLevelSubTask, item.taskIncomeObject)\n          let subRewardAllocateValue = this.incomeRewardAllocateValue(this.subLevelSubTask, item.taskIncomeObject)\n          let incomeAllocate = sameRewardAllocateValue + subRewardAllocateValue\n          let incomeAllocateRate = (incomeAllocate / item.incomeValue) * 100\n          if (incomeAllocateRate > 0 && incomeAllocateRate < 1) {\n            incomeAllocateRate = 1\n          } else {\n            incomeAllocateRate = Math.floor(incomeAllocateRate)\n          }\n          let object = {\n            incomeAllocate,\n            incomeAllocateRate\n          }\n          _.assign(item, object)\n        })\n        this.detail = detail\n        this.canDecomposeAndProgress()\n        this.setIncome()\n      },\n      setTaskProgress (detail) {\n        detail.task.taskItems.map((taskItem) => {\n          let progressItem = _.find(detail.progress, {taskItemId: taskItem.taskItemId})\n          let distribute = parseInt(progressItem.distribute || 0)\n          let taskAllocateRate = (distribute / taskItem.target) * 100\n          let progress = progressItem.progress || 0\n          let progressRate = (progress / taskItem.target) * 100\n          if (taskAllocateRate > 0 && taskAllocateRate < 1) {\n            taskAllocateRate = 1\n          } else {\n            taskAllocateRate = Math.floor(taskAllocateRate)\n          }\n          if (progressRate > 0 && progressRate < 1) {\n            progressRate = 1\n          } else {\n            progressRate = Math.floor(progressRate)\n          }\n          let object = {\n            status: progress.status,\n            progress,\n            progressRate,\n            distribute,\n            taskAllocateRate\n          }\n          _.assign(taskItem, object)\n        })\n      },\n      incomeRewardAllocateValue (array, incomeObject) {\n        let rewardAllocateValue = 0\n        for (let item of array) {\n          if (item.task) {\n            let reward = item.task.reward\n            let num\n            let incomeValue = _.find(reward, {taskIncomeObject: incomeObject})\n            if (incomeValue) {\n              num = Number(incomeValue.incomeValue)\n            } else {\n              num = 0\n            }\n            rewardAllocateValue += num\n          }\n        }\n        return rewardAllocateValue\n      },\n      canDecomposeAndProgress () {\n        _.forEach(this.sameLevelSubTask, (subTaskItem) => {\n          if (!subTaskItem.decomposition) {\n            _.assign(subTaskItem, {decomposition: false})\n          } else {\n            this.setTaskProgress(subTaskItem)\n          }\n        })\n        this.sameLevelSubTask = _.filter(this.sameLevelSubTask, (item) => {\n          return item.taskStatus !== '生效'\n        })\n        _.forEach(this.subLevelSubTask, (item) => {\n          item.decomposition = true\n        })\n        _.forEach(this.subLevelSubTask, (subTaskItem) => {\n          if (subTaskItem.task) {\n            this.setTaskProgress(subTaskItem)\n            let organizationName = subTaskItem.organizationNamePath\n            let sub = _.filter(this.subLevelSubTask, {organizationNamePath: organizationName})\n            for (let item of sub) {\n              _.assign(item, {decomposition: false})\n            }\n            subTaskItem.decomposition = true\n          }\n        })\n        this.subLevelSubTask = _.filter(this.subLevelSubTask, (item) => {\n          return item.decomposition === true && item.taskStatus !== '生效'\n        })\n\n        this.showSameLevelSubTask = this.sameLevelSubTask\n        this.filterSubLevelSubTask = this.subLevelSubTask\n        this.showSubLevelSubTask = this.filterSubLevelSubTask.slice(0, 10)\n      },\n      setPositionName () {\n        let arr = _.find(this.storePersonTask, {personTaskId: this.personTaskId})\n        let detail = JSON.parse(JSON.stringify(arr))\n        let sameLevelSubTask = detail.sameLevelSubTask\n        let subLevelSubTask = detail.subLevelSubTask\n        this.setPositionNameItem('下级人员', subLevelSubTask)\n        this.setPositionNameItem('同级人员', sameLevelSubTask)\n      },\n      setPositionNameItem (name, subTasks) {\n        if (subTasks.length > 0) {\n          let item = {\n            name,\n            children: ['全部显示']\n          }\n          _.forEach(subTasks, subTaskItem => {\n            let find = _.find(item.children, (item) => {\n              return item === subTaskItem.positionName\n            })\n            if (!find) {\n              item.children.push(subTaskItem.positionName)\n            }\n          })\n          this.filterPickerObject.slots[0].values.push(item)\n        }\n      },\n      setIncome () {\n        if (this.detail.task.reward.length > 0) {\n          this.income = _.find(this.detail.task.reward, (item) => {\n            return item.incomeAllocateRate < 100\n          })\n        } else {\n          this.income = true\n        }\n      },\n      setPickerDefaultIndex (value) {\n        this.$nextTick(async () => {\n          let picker = this.$refs.filterPicker\n          let v = picker.getSlotValues(0).find(s => s.name === value[0])\n          if (v) {\n            picker.setSlotValue(0, v)\n            picker.setSlotValues(1, v.children)\n            picker.setSlotValue(1, value[1])\n          }\n        })\n      },\n      onValuesChange (picker, values) {\n        if (!values[0]) {\n          this.$nextTick(() => {\n            picker.setSlotValue(0, this.storeStorageDecomposition[0])\n            picker.setSlotValues(1, values[0].children)\n            picker.setSlotValue(1, this.storeStorageDecomposition[1])\n          })\n        } else {\n          picker.setSlotValues(1, values[0].children)\n        }\n      },\n      setStorageFilter () {\n        let find = false\n        if (this.storeStorageDecomposition.length > 0) {\n          find = _.find(this.filterPickerObject.slots[0].values, {name: this.storeStorageDecomposition[0]})\n        }\n        if (find) {\n          this.filterPickerObject.filterOrg = this.storeStorageDecomposition[0]\n          this.filterPickerObject.filterPosition = this.storeStorageDecomposition[1]\n          this.filterOrgAndPosition(this.filterPickerObject.filterOrg, this.filterPickerObject.filterPosition)\n        } else {\n          this.filterPickerObject.filterOrg = this.filterPickerObject.slots[0].values[0].name\n          this.filterPickerObject.filterPosition = this.filterPickerObject.slots[0].values[0].children[0]\n          this.setStorageDecomposition([this.filterPickerObject.filterOrg, this.filterPickerObject.filterPosition])\n        }\n        this.setPickerDefaultIndex(this.storeStorageDecomposition)\n      },\n      filterOrgAndPosition (filterOrg, filterPosition) {\n        if (filterOrg === '同级人员') {\n          if (filterPosition === '全部显示') {\n            this.showSameLevelSubTask = this.sameLevelSubTask\n          } else {\n            this.showSameLevelSubTask = _.filter(this.sameLevelSubTask, {positionName: filterPosition})\n          }\n          this.filterSubLevelSubTask = []\n          this.showSubLevelSubTask = []\n          this.noMore = true\n          this.filterPickerObject.onFilterNone = this.showSameLevelSubTask.length === 0\n        } else if (filterOrg === '下级人员') {\n          if (filterPosition === '全部显示') {\n            this.filterSubLevelSubTask = this.subLevelSubTask\n          } else {\n            this.filterSubLevelSubTask = _.filter(this.subLevelSubTask, {positionName: filterPosition})\n          }\n          this.noMore = this.filterSubLevelSubTask.length < 10\n          this.showSubLevelSubTask = this.filterSubLevelSubTask.slice(0, 10)\n          this.showSameLevelSubTask = []\n          this.filterPickerObject.onFilterNone = this.filterSubLevelSubTask.length === 0\n        }\n      },\n\n      setFilter () {\n        this.filterPickerObject.popupVisible = false\n        let picker = this.$refs.filterPicker\n        this.filterPickerObject.filterOrg = picker.getValues()[0].name\n        this.filterPickerObject.filterPosition = picker.getValues()[1]\n        this.setStorageDecomposition([this.filterPickerObject.filterOrg, this.filterPickerObject.filterPosition])\n      },\n      btnStart () {\n        let eve = window.event\n        eve.target.style.background = '#265C98'\n        eve.target.style.color = '#6B8D9B'\n      },\n      btnEnd () {\n        let eve = window.event\n        eve.target.style.background = '#3396E4'\n        eve.target.style.color = '#fff'\n      },\n      goToPageSub (personId, same, taskId) {\n        this.$router.push({\n          name: 'Sub',\n          query: {\n            personId,\n            same,\n            taskId\n          }\n        })\n      },\n      async resetTask (personTaskId) {\n        let params = {\n          subPersonTaskId: personTaskId,\n          personTaskId: this.detail.personTaskId\n        }\n        await loadData(() => {\n          return api.deleteSubTask(personTaskId)\n        }, async (res) => {\n          if (res) {\n            this.resetSubTask(params)\n            await loadData(() => { return this.resetSubPersonTask(this.detail.personTaskId) })\n            this.getSubTasksDetail()\n            this.filterOrgAndPosition(this.filterPickerObject.filterOrg, this.filterPickerObject.filterPosition)\n          }\n        }, boolPreHandler)\n      },\n      submit (personTaskId, same) {\n        let vue = this\n        let message = '提交后任务不可修改，确定要提交吗？'\n        MessageBox.confirm(message).then(async () => {\n          await loadData(() => { return api.submitSubTask(personTaskId) },\n            async (res) => {\n              if (res) {\n                let param = {\n                  personTaskId: vue.detail.personTaskId,\n                  same,\n                  subPersonTaskId: personTaskId\n                }\n                await vue.afterSubmit(param)\n                vue.getSubTasksDetail()\n                vue.setStorageFilter()\n              }\n            }, boolPreHandler)\n        })\n      },\n      loadMore () {\n        if (this.noMore) return\n        this.loading = true\n        setTimeout(() => {\n          let last = this.showSubLevelSubTask.length\n          let end = last + 10\n          this.noMore = this.filterSubLevelSubTask.slice(last, end).length < 10\n          this.showSubLevelSubTask.push(...this.filterSubLevelSubTask.slice(last, end))\n          this.loading = false\n        }, 1000)\n      }\n    },\n    computed: {\n      ...mapState('task', {\n        storeStorageDecomposition: state => state.storageDecomposition,\n        storePersonTask: state => state.taskList.personTask\n      })\n    },\n    watch: {\n      'filterPickerObject.filterPosition': function (status) {\n        this.filterOrgAndPosition(this.filterPickerObject.filterOrg, status)\n      },\n      'filterPickerObject.filterOrg': function (status) {\n        this.filterOrgAndPosition(status, this.filterPickerObject.filterPosition)\n      }\n    }\n  }\n</script>\n<style scoped>\n  .button {\n    color: #26a2ff;\n    width: 100%;\n    font-size: 1rem;\n    line-height: 35px;\n    display: block;\n    background-color: #fff;\n    margin: 10px 0 0 0;\n    border: 0;\n    border-top: 1px solid #ddd;\n    border-radius: 0 0 3px 3px;\n    outline: none;\n  }\n\n  .popup {\n    background: #fff;\n    width: 95%;\n    margin: auto;\n    border-radius: 5px;\n    padding: 5px;\n    box-sizing: border-box;\n  }\n\n  .mar-l-r {\n    margin-left: 5px;\n    margin-right: 5px;\n  }\n\n  .list-enter-active, .list-leave-active {\n    transition: all .35s;\n  }\n\n  .list-enter, .list-leave-to {\n    opacity: 0;\n    transform: translateY(-30px);\n  }\n\n  .organizeTitle {\n    width: 5rem;\n    display: inline-block;\n  }\n\n  .organizeValue {\n    line-height: 1.7rem;\n    text-align: right;\n  }\n\n  .w-3 {\n    display: inline-block;\n    padding-right: 10px;\n    line-height: 1.5;\n  }\n\n  .box {\n    background: #fff;\n  }\n\n  .Decomposition {\n    padding: 1px 0;\n    line-height: 0;\n    box-sizing: border-box;\n  }\n\n  .case {\n    width: 95%;\n    padding: 5px;\n    border-radius: 5px;\n    background: #fff;\n    box-sizing: border-box;\n    margin: 0 auto;\n  }\n\n  .case {\n    margin-bottom: 10px;\n  }\n\n  .content span {\n    font-size: 14px;\n  }\n\n  i {\n    margin: 0 3px;\n  }\n\n  .title p {\n    font-size: 14px;\n    color: #888;\n  }\n\n  .subTaskSpan {\n    color: #26a2ff;\n    min-width: 5rem;\n    text-align: right;\n  }\n\n  .link {\n    border: solid 2px #c8c8cd;\n    border-bottom-width: 0;\n    border-left-width: 0;\n    content: \" \";\n    width: 5px;\n    height: 5px;\n    transform: translateY(-50%) rotate(135deg);\n    transition: all 0.35s\n  }\n\n  .display {\n    display: none;\n  }\n\n  .btn {\n    margin: 0 10px;\n  }\n\n  .pb_10 {\n    padding-bottom: 10px;\n  }\n\n  .flex {\n    flex: 1;\n    color: #888;\n  }\n\n  .fontfamily {\n    font-weight: bold;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/task/decomposition_task.vue"],"sourceRoot":""}