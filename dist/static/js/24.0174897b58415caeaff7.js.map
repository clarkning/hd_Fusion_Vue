{"version":3,"sources":["webpack:///./src/components/sell/payment/cashier.vue?2c2d","webpack:///./src/components/sell/payment/cashier.vue","webpack:///src/components/sell/payment/cashier.vue"],"names":["payment_cashier","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","orderCode","_v","_s","payAmount","id","placeholder","type","model","value","param","callback","$$v","$set","expression","on","touchstart","$event","btnStartStyle","touchend","btnEndStyle","click","goToPageOrderFilling","size","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","cashier_default","a","__webpack_exports__","_utils","_mintUi","pushName","created","_ref","_asyncToGenerator3","default","_regenerator2","mark","_callee","orderId","getData","event","_ref2","_callee2","no","defaultPreHandler"],"mappings":"oJAGAA,GADiBC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,YAAsBF,EAAA,OAAYE,YAAA,sBAAgCF,EAAA,WAAgBG,OAAOC,MAAA,MAAAR,EAAAS,aAA+BL,EAAA,QAAaE,YAAA,SAAmBN,EAAAU,GAAA,SAAAV,EAAAU,GAAA,KAAAN,EAAA,QAAyCE,YAAA,UAAoBN,EAAAU,GAAA,IAAAV,EAAAW,GAAAX,EAAAY,WAAA,cAAAZ,EAAAU,GAAA,KAAAN,EAAA,KAAqEE,YAAA,gBAA0BN,EAAAU,GAAA,WAAAV,EAAAU,GAAA,KAAAN,EAAA,OAA0CE,YAAA,cAAAC,OAAiCM,GAAA,gBAAmBT,EAAA,YAAiBG,OAAOO,YAAA,mBAAAC,KAAA,QAA+CC,OAAQC,MAAAjB,EAAAkB,MAAA,GAAAC,SAAA,SAAAC,GAA8CpB,EAAAqB,KAAArB,EAAAkB,MAAA,KAAAE,IAA+BE,WAAA,eAAwB,GAAAtB,EAAAU,GAAA,KAAAN,EAAA,OAA4BE,YAAA,eAAAiB,IAA+BC,WAAA,SAAAC,GAA8BzB,EAAA0B,iBAAoBC,SAAA,SAAAF,GAA6BzB,EAAA4B,eAAkBC,MAAA,SAAAJ,GAA0BzB,EAAA8B,2BAA6B1B,EAAA,aAAkBG,OAAOwB,KAAA,QAAAhB,KAAA,aAAiCX,EAAA,QAAaE,YAAA,UAAoBN,EAAAU,GAAA,iBAE78BsB,oBCSjBC,EAXA,SAAAC,GACAC,EAAA,SAeAC,EAbAD,EAAA,OAaAE,CACAC,EAAAC,EACAzC,GATA,EAWAmC,EAPA,kBAEA,MAUAO,EAAA,QAAAJ,EAAA,uLCNAD,EAAA,SACAM,EAAAN,EAAA,QAGAO,EAAAP,EAAA,wBAEA,2DAGAQ,mBACA,aACA,kBAEA,eACA,QAGA,QAEAC,QAAA,WAdA,IAAAC,GAAA,EAAAC,EAAAC,SAAAC,EAAAD,QAAAE,KAAA,SAAAC,sHAeAC,sBAEAC,0GAHA,kDAMAC,gCACA,+BACA,+CAGAA,gCACA,+BACA,QAEAvB,qBAAA,WAXA,IAAAwB,GAAA,EAAAR,EAAAC,SAAAC,EAAAD,QAAAE,KAAA,SAAAM,yFAYA,wCACAC,IAAA,yFAEAtC,4DAGA,+CACA,oCAEAyB,gCAIAQ,+BAGA,wDAEA,aAIA,0HAvBA,GAwBAC,QAAA,8NAEAD,+CAEAvC,wBACAH,yCACAI,IAGA4B,EAAAgB,mHATA","file":"static/js/24.0174897b58415caeaff7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Cashier\"},[_c('div',{staticClass:\"bg_img_none m_t15\"},[_c('mt-cell',{attrs:{\"title\":'单号：' + _vm.orderCode}},[_c('span',{staticClass:\"m_r5\"},[_vm._v(\"请支付\")]),_vm._v(\" \"),_c('span',{staticClass:\"color\"},[_vm._v(\"￥\"+_vm._s(_vm.payAmount)+\" 元\")])])],1),_vm._v(\" \"),_c('p',{staticClass:\"title m_t15\"},[_vm._v(\"收银台支付\")]),_vm._v(\" \"),_c('div',{staticClass:\"bg_img_none\",attrs:{\"id\":\"CashierPay\"}},[_c('mt-field',{attrs:{\"placeholder\":\"请输入发票号(或流水号/提单号)\",\"type\":\"text\"},model:{value:(_vm.param.no),callback:function ($$v) {_vm.$set(_vm.param, \"no\", $$v)},expression:\"param.no\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"button m_t60\",on:{\"touchstart\":function($event){_vm.btnStartStyle()},\"touchend\":function($event){_vm.btnEndStyle()},\"click\":function($event){_vm.goToPageOrderFilling()}}},[_c('mt-button',{attrs:{\"size\":\"large\",\"type\":\"primary\"}},[_c('span',{staticClass:\"space\"},[_vm._v(\"确定\")])])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c7d85334\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/sell/payment/cashier.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c7d85334\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cashier.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cashier.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c7d85334\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./cashier.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c7d85334\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/sell/payment/cashier.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"Cashier\">\n    <div class=\"bg_img_none m_t15\">\n      <mt-cell :title=\"'单号：' + orderCode\">\n        <span class=\"m_r5\">请支付</span>\n        <span class=\"color\">￥{{payAmount}} 元</span>\n      </mt-cell>\n    </div>\n    <p class=\"title m_t15\">收银台支付</p>\n    <div id=\"CashierPay\" class=\"bg_img_none\">\n      <mt-field placeholder=\"请输入发票号(或流水号/提单号)\" type=\"text\" v-model=\"param.no\"></mt-field>\n    </div>\n\n    <div @touchstart=\"btnStartStyle()\" @touchend=\"btnEndStyle()\" class=\"button m_t60\" @click=\"goToPageOrderFilling()\">\n      <mt-button size=\"large\" type=\"primary\"><span class=\"space\">确定</span></mt-button>\n    </div>\n  </div>\n</template>\n<script>\n  import api from '../../../api/index2'\n  import { loadData, defaultPreHandler, boolPreHandler } from '../../../common/utils'\n  import { MessageBox } from 'mint-ui'\n\n  export default {\n    name: 'Cashier',\n    data () {\n      return {\n        pushName: this.$route.meta.pushName,\n        orderCode: '',\n        payAmount: '',\n        param: {\n          orderId: null,\n          paymentId: null,\n          no: null\n        }\n      }\n    },\n    async created () {\n      this.param.orderId = this.$route.query.orderId\n      await this.getData()\n    },\n    methods: {\n      btnStartStyle () {\n        let eve = window.event\n        eve.target.style.background = '#265C98'\n        eve.target.style.color = '#6B8D9B'\n      },\n      btnEndStyle () {\n        let eve = window.event\n        eve.target.style.background = '#3396E4'\n        eve.target.style.color = '#fff'\n      },\n      async goToPageOrderFilling () {\n        let re = /^([A-Za-z0-9]{6,20})$/\n        if (re.test(this.param.no)) {\n          await loadData(() => {\n            return api.cashier_pay(this.param)\n          }, (response) => {\n            if (response) {\n              window.history.pushState({}, 'title', '#/login')\n              window.history.pushState({}, 'title', '#/MyOrder')\n              this.$router.push({\n                name: this.pushName,\n                query: {\n                  orderId: this.param.orderId\n                }\n              })\n            }\n          }, boolPreHandler, true)\n        } else {\n          MessageBox({\n            title: '提示',\n            message: '请输入6到20位发票号(或流水号/提单号)'\n          })\n        }\n      },\n      async getData () {\n        await loadData(() => {\n          return api.getOrderDetail(this.param.orderId)\n        }, (data) => {\n          this.payAmount = data.paymentDto.payAmount\n          this.orderCode = data.orderCode\n          this.param.paymentId = data.paymentDto.id\n        }, defaultPreHandler)\n      }\n    }\n  }\n</script>\n<style scoped>\n  .m_r5 {\n    margin-right: 5px;\n  }\n\n  .color {\n    color: #f44336;\n  }\n\n  .bg_img_none {\n    border-top: 1px solid #f4f3f3;\n    border-bottom: 1px solid #f4f3f3;\n  }\n\n  .title {\n    color: #888;\n    padding: 10px 15px;\n    font-size: 14px;\n  }\n\n  .button {\n    width: 90%;\n    margin: auto;\n  }\n\n  .space {\n    letter-spacing: 10px;\n  }\n\n  .m_t15 {\n    margin-top: 15px;\n  }\n\n  .m_t60 {\n    margin-top: 60px;\n  }\n\n  .tip {\n    box-sizing: border-box;\n    font-size: 12px;\n    line-height: 1.8;\n    margin: 2% auto;\n    background: #ffffff;\n    width: 90%;\n    padding: 2%;\n    color: #888;\n    border-radius: 4px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/sell/payment/cashier.vue"],"sourceRoot":""}