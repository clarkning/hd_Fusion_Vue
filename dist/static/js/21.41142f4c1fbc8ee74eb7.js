webpackJsonp([21],{EwbI:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("e7sx"),n=r.n(a),u={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"Scan"},[r("div",{staticClass:"popup_title"},[r("div",{staticClass:"popup_title_content"},[t._v("微信关注")]),t._v(" "),r("router-link",{staticClass:"popup_title_x",attrs:{to:{name:t.pushName}}},[t._v("完成")])],1),t._v(" "),r("div",{staticClass:"qrCode"},[r("p",[t._v("请用户微信扫描下方二维码，绑定手机即刻领取电子合同凭证。")]),t._v(" "),r("div",{staticClass:"img"},[r("img",{attrs:{src:t.qrCode}})])]),t._v(" "),t.isDraw?r("div",{staticClass:"mt_15 w_50",on:{click:function(e){t.goToPageDraw(t.orderId)}}},[r("mt-button",{attrs:{size:"large",type:"primary"}},[t._v("抽奖")])],1):t._e()])},staticRenderFns:[]},i=function(t){r("MclP")},s=r("VU/8")(n.a,u,!1,i,"data-v-78a8a213",null);e.default=s.exports},MclP:function(t,e){},e7sx:function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(r("Xxa5")),u=a(r("exGp")),i=a(r("3D1+")),s=r("JaHG");e.default={name:"Scan",data:function(){return{pushName:this.$route.meta.pushName,qrCode:null,orderId:null,isDraw:!1,partnerId:null}},created:function(){var t=(0,u.default)(n.default.mark(function t(){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.orderId=this.$route.query.orderId,t.next=3,this.getOrderDetail(this.orderId);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),beforeRouteLeave:function(t,e,r){window.history.pushState({},"title","#/login"),"Draw"===t.name?(window.history.pushState({},"title","#/MyOrder"),r()):"Draw"!==t.name&&"MyOrder"!==t.name?r("/MyOrder"):r()},methods:{getQrCode:function(){var t=(0,u.default)(n.default.mark(function t(){var e=this;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.loadData)(function(){return i.default.getPartner(e.partnerId)},function(t){e.qrCode=t.qrCode},s.defaultPreHandler,!0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getOrderDetail:function(){var t=(0,u.default)(n.default.mark(function t(e){var r=this;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.loadData)(function(){return i.default.getOrderDetail(e)},function(){var t=(0,u.default)(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.partnerId=e.partnerId,r.isDraw=1===e.awardStatus,t.next=4,r.getQrCode();case 4:case"end":return t.stop()}},t,r)}));return function(e){return t.apply(this,arguments)}}(),s.defaultPreHandler);case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),goToPageDraw:function(t){this.$router.push({name:"Draw",query:{orderId:t}})}}}}});
//# sourceMappingURL=21.41142f4c1fbc8ee74eb7.js.map