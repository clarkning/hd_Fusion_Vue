{"version":3,"sources":["webpack:///src/components/mine/invoice/invoice_list.vue","webpack:///./src/components/mine/invoice/invoice_list.vue?a768","webpack:///./src/components/mine/invoice/invoice_list.vue"],"names":["__webpack_require__","_utils","created","_ref","_asyncToGenerator3","default","_regenerator2","mark","_callee","getInvoiceSummary","data","page","invoiceDtos","defaultPreHandler","invoiceId","loadMore","_ref2","_callee2","noMore","this","_vue$invoiceList","invoice_invoice_list","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","invoiceSummary","invoiceAmount","pendingInvoiceAmount","attrs","title","value","on","click","$event","goToPageSpecialInvoice","directives","name","rawName","expression","infinite-scroll-disabled","infinite-scroll-distance","_l","item","key","id","goToPageInvoiceDetail","number","amount","submitTime","slice","class","database","statusStr","star","leaf","bars","denialReason","_e","invoiceList","length","color","type","goToPageSubmitInvoice","size","staticRenderFns","__vue_styles__","ssrContext","Component","normalizeComponent","invoice_list_default","a","__webpack_exports__"],"mappings":"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","file":"static/js/46.6096ffd9c256fa9623b2.js","sourcesContent":["<template>\n  <div class=\"invoice-box\">\n    <div class=\"invoice-head\">\n      <div class=\"ui-flex\">\n        <p>需开金额</p>\n        <span>{{invoiceSummary.invoiceAmount}}</span>\n      </div>\n      <div class=\"ui-flex\">\n        <p>待确认金额</p>\n        <span>{{invoiceSummary.pendingInvoiceAmount}}</span>\n      </div>\n    </div>\n    <div class=\"invoice-info\">\n      <mt-cell title=\"公司\" value=\"北京众安保修科技有限公司\"></mt-cell>\n      <mt-cell title=\"纳税人识别号\" value=\"91110105MA007LG12P\"></mt-cell>\n      <mt-cell title=\"开票内容\" value=\"维修服务费 或 服务费\"></mt-cell>\n      <mt-cell class=\"mt-line-height\" title=\"邮寄地址\" value=\"北京市东城区朝阳门银河SOHO D座5层50510室 穆青（收）010-65206750\"></mt-cell>\n    </div>\n    <div class=\"specialInvoice-link\" @click=\"goToPageSpecialInvoice()\">\n      <mt-cell title=\"专票信息\"></mt-cell>\n    </div>\n    <div class=\"invoice-list\" v-infinite-scroll=\"loadMore\"\n         infinite-scroll-disabled=\"loading\"\n         infinite-scroll-distance=\"300\">\n      <div class=\"invoice-list-body\" v-for=\"item in invoiceList\" :key=\"item.id\" @click=\"goToPageInvoiceDetail(item.id)\">\n        <mt-cell class=\"invoice-number\" title=\"发票号码\" :value=\"item.number\"></mt-cell>\n        <mt-cell title=\"发票金额\" :value=\"item.amount\"></mt-cell>\n        <mt-cell title=\"提交时间\" :value=\"item.submitTime.slice(0, 10)\"></mt-cell>\n        <mt-cell title=\"状态\">\n          <span\n            :class=\"{database: item.statusStr === '待确认'|| item.statusStr === '审核未通过',star: item.statusStr === '新增',leaf: item.statusStr === '已冲抵',bars: item.statusStr === '确认'}\">{{item.statusStr}}</span>\n        </mt-cell>\n        <mt-cell v-if=\"item.statusStr === '审核未通过'\" title=\"拒绝原因\" :value=\"item.denialReason\"></mt-cell>\n      </div>\n      <div v-if=\"invoiceList.length === 0\" class=\"null_data\">\n        <div class=\"null\"></div>\n        <p>暂无发票~~</p>\n      </div>\n      <div v-else>\n        <div class=\"load noMore\" v-show=\"noMore\">已无更多</div>\n        <div class=\"load\" v-show=\"loading\">\n          <mt-spinner color=\"#d4d4d4\" type=\"fading-circle\"></mt-spinner>\n          正在加载\n        </div>\n      </div>\n    </div>\n\n\n    <div class=\"bottom-button\" @click=\"goToPageSubmitInvoice()\">\n      <mt-button type=\"primary\" size=\"large\">上传发票</mt-button>\n    </div>\n  </div>\n</template>\n<script>\n  import api from '../../../api/index2'\n  import {loadData, defaultPreHandler} from '../../../common/utils'\n\n  export default {\n    name: 'InvoiceList',\n    data () {\n      return {\n        page: 1,\n        invoiceList: [],\n        noMore: true,\n        loading: false,\n        invoiceSummary: {}\n      }\n    },\n    async created () {\n      await loadData(() => {\n        return api.getInvoiceSummary()\n      }, data => {\n        this.invoiceSummary = data\n      }, defaultPreHandler, true)\n      await loadData(() => {\n        return api.getInvoiceList(this.page)\n      }, data => {\n        this.invoiceList = data.invoiceDtos\n      }, defaultPreHandler)\n      this.page = Math.ceil(this.invoiceList.length / 5)\n      this.noMore = this.invoiceList.length < (5 * this.page)\n    },\n    methods: {\n      goToPageSpecialInvoice: function () {\n        this.$router.push({\n          path: 'SpecialInvoice',\n          query: {}\n        })\n      },\n      goToPageInvoiceDetail: function (invoiceId) {\n        this.$router.push({\n          path: 'InvoiceDetail',\n          query: {\n            invoiceId\n          }\n        })\n      },\n      goToPageSubmitInvoice: function () {\n        this.$router.push({\n          path: 'SubmitInvoice',\n          query: {}\n        })\n      },\n      async loadMore () {\n        if (this.noMore) return\n        this.loading = true\n        this.page += 1\n        let vue = this\n        await loadData(() => {\n          return api.getInvoiceList(this.page)\n        }, data => {\n          vue.invoiceList.push(...data.invoiceDtos)\n        }, defaultPreHandler, true)\n        vue.noMore = vue.invoiceList.length < (5 * this.page)\n        this.loading = false\n      }\n    }\n  }\n</script>\n<style scoped>\n  .invoice-number {\n    position: relative;\n\n  }\n\n  .invoice-head {\n    display: flex;\n    text-align: center;\n    width: 100%;\n    background: #ffffff;\n    position: fixed;\n    top: 0;\n    z-index: 99;\n    border-bottom: 1px solid #e5e5e5;\n  }\n\n  .invoice-head .ui-flex {\n    flex: 1;\n    padding: 8px 0;\n  }\n\n  .invoice-head .ui-flex:first-child {\n    border-right: 1px solid #e5e5e5;\n  }\n\n  .invoice-head .ui-flex p {\n    color: #888;\n    font-size: 12px;\n    line-height: 2;\n  }\n\n  .invoice-head .ui-flex span {\n    line-height: 1.5;\n  }\n\n  .invoice-info {\n    margin-top: 75px;\n  }\n\n  .specialInvoice-link {\n    text-align: center;\n    color: #26a2ff;\n  }\n\n  .invoice-list {\n    padding-bottom: 25px;\n  }\n\n  .invoice-list .invoice-list-body {\n    margin-top: 10px;\n\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/mine/invoice/invoice_list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"invoice-box\"},[_c('div',{staticClass:\"invoice-head\"},[_c('div',{staticClass:\"ui-flex\"},[_c('p',[_vm._v(\"需开金额\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.invoiceSummary.invoiceAmount))])]),_vm._v(\" \"),_c('div',{staticClass:\"ui-flex\"},[_c('p',[_vm._v(\"待确认金额\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.invoiceSummary.pendingInvoiceAmount))])])]),_vm._v(\" \"),_c('div',{staticClass:\"invoice-info\"},[_c('mt-cell',{attrs:{\"title\":\"公司\",\"value\":\"北京众安保修科技有限公司\"}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"纳税人识别号\",\"value\":\"91110105MA007LG12P\"}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"开票内容\",\"value\":\"维修服务费 或 服务费\"}}),_vm._v(\" \"),_c('mt-cell',{staticClass:\"mt-line-height\",attrs:{\"title\":\"邮寄地址\",\"value\":\"北京市东城区朝阳门银河SOHO D座5层50510室 穆青（收）010-65206750\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"specialInvoice-link\",on:{\"click\":function($event){_vm.goToPageSpecialInvoice()}}},[_c('mt-cell',{attrs:{\"title\":\"专票信息\"}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"invoice-list\",attrs:{\"infinite-scroll-disabled\":\"loading\",\"infinite-scroll-distance\":\"300\"}},[_vm._l((_vm.invoiceList),function(item){return _c('div',{key:item.id,staticClass:\"invoice-list-body\",on:{\"click\":function($event){_vm.goToPageInvoiceDetail(item.id)}}},[_c('mt-cell',{staticClass:\"invoice-number\",attrs:{\"title\":\"发票号码\",\"value\":item.number}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"发票金额\",\"value\":item.amount}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"提交时间\",\"value\":item.submitTime.slice(0, 10)}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"状态\"}},[_c('span',{class:{database: item.statusStr === '待确认'|| item.statusStr === '审核未通过',star: item.statusStr === '新增',leaf: item.statusStr === '已冲抵',bars: item.statusStr === '确认'}},[_vm._v(_vm._s(item.statusStr))])]),_vm._v(\" \"),(item.statusStr === '审核未通过')?_c('mt-cell',{attrs:{\"title\":\"拒绝原因\",\"value\":item.denialReason}}):_vm._e()],1)}),_vm._v(\" \"),(_vm.invoiceList.length === 0)?_c('div',{staticClass:\"null_data\"},[_c('div',{staticClass:\"null\"}),_vm._v(\" \"),_c('p',[_vm._v(\"暂无发票~~\")])]):_c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noMore),expression:\"noMore\"}],staticClass:\"load noMore\"},[_vm._v(\"已无更多\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"load\"},[_c('mt-spinner',{attrs:{\"color\":\"#d4d4d4\",\"type\":\"fading-circle\"}}),_vm._v(\"\\n        正在加载\\n      \")],1)])],2),_vm._v(\" \"),_c('div',{staticClass:\"bottom-button\",on:{\"click\":function($event){_vm.goToPageSubmitInvoice()}}},[_c('mt-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"}},[_vm._v(\"上传发票\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e12fffd\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/mine/invoice/invoice_list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e12fffd\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./invoice_list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./invoice_list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e12fffd\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./invoice_list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4e12fffd\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/mine/invoice/invoice_list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}