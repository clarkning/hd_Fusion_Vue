webpackJsonp([42],{ZYaW:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("eRmx"),r=s.n(n),a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Ranking bg_img_none"},[t.personList.length>0?s("div",{staticClass:"title"},[s("mt-cell",[s("p",{attrs:{slot:"title"},slot:"title"},[t._v("个人销售排行榜")])])],1):t._e(),t._v(" "),s("div",{staticClass:"content"},t._l(t.personList,function(e){return s("div",{staticClass:"week",on:{click:function(s){t.goToPagePersonRanking(e.reportConfigId)}}},[s("mt-cell",{attrs:{"is-link":""}},[s("div",{attrs:{slot:"title"},slot:"title"},[s("span",{staticClass:"mint-cell-text"},[s("span",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),10===e.reportType?s("span",{staticClass:"label"},[t._v("("+t._s(t.rankings.weekTime)+")")]):s("span",{staticClass:"label"},[t._v("("+t._s(t.rankings.monthTime)+")")])]),t._v(" "),s("span",{staticClass:"mint-cell-label"},[t._v(t._s(e.description))])])])],1)})),t._v(" "),t.storeList.length>0?s("div",{staticClass:"title bg_img_none"},[s("mt-cell",[s("p",{attrs:{slot:"title"},slot:"title"},[t._v("店面龙虎榜")])])],1):t._e(),t._v(" "),s("div",{staticClass:"content"},t._l(t.storeList,function(e){return s("div",{staticClass:"week",on:{click:function(s){t.goToPagePersonRanking(e.reportConfigId)}}},[s("mt-cell",{attrs:{"is-link":""}},[s("div",{attrs:{slot:"title"},slot:"title"},[s("span",{staticClass:"mint-cell-text"},[s("span",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),10===e.reportType?s("span",{staticClass:"label"},[t._v("("+t._s(t.rankings.weekTime)+")")]):s("span",{staticClass:"label"},[t._v("("+t._s(t.rankings.monthTime)+")")])]),t._v(" "),s("span",{staticClass:"mint-cell-label"},[t._v(t._s(e.description))])])])],1)})),t._v(" "),t.showNull?s("div",{staticClass:"null_data"},[s("div",{staticClass:"null"}),t._v(" "),s("p",[t._v("暂无排行")])]):t._e()])},staticRenderFns:[]},i=function(t){s("uSvX")},o=s("VU/8")(r.a,a,!1,i,"data-v-41b7136e",null);e.default=o.exports},eRmx:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(s("BO1k")),a=n(s("Dd8w")),i=n(s("Xxa5")),o=n(s("exGp")),l=s("NYxO"),c=n(s("3D1+")),u=s("JaHG");e.default={name:"Ranking",data:function(){return{showNull:!1,rankings:{weekTime:{},monthTime:{},reportConfigs:[]},personList:[],storeList:[],storeId:"",project:""}},created:function(){var t=(0,o.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOrganizationInfo();case 2:return t.next=4,this.getList();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),beforeRouteLeave:function(t,e,s){if("ChooseRankingProject"===t.name){var n=this.$store.state.project.filter(function(t){return t.projectList.length>0}),r=n[0].projectList;1===n.length&&1===r.length?(s(!1),this.$router.go(-2)):s()}else s()},methods:(0,a.default)({},(0,l.mapActions)(["getProject"]),{getOrganizationInfo:function(){var t=(0,o.default)(i.default.mark(function t(){var e=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.loadData)(function(){return e.getProject()});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),goToPagePersonRanking:function(t){this.$router.push({name:"PersonRanking",query:{reportConfigId:t,store:this.storeId,project:this.project}})},getList:function(){var t=(0,o.default)(i.default.mark(function t(){var e,s,n,a,o,l,p,f=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.storeId=Number(this.$route.query.store),this.project=Number(this.$route.query.project),e={storeId:this.storeId,projectId:this.project},t.next=5,(0,u.loadData)(function(){return c.default.getRankings(e)},function(t){f.rankings=t,f.showNull=0===f.rankings.reportConfigs.length},u.defaultPreHandler);case 5:for(s=!0,n=!1,a=void 0,t.prev=8,o=(0,r.default)(this.rankings.reportConfigs);!(s=(l=o.next()).done);s=!0)210===(p=l.value).summaryType?this.personList.push(p):110!==p.summaryType&&120!==p.summaryType||this.storeList.push(p);t.next=16;break;case 12:t.prev=12,t.t0=t.catch(8),n=!0,a=t.t0;case 16:t.prev=16,t.prev=17,!s&&o.return&&o.return();case 19:if(t.prev=19,!n){t.next=22;break}throw a;case 22:return t.finish(19);case 23:return t.finish(16);case 24:case"end":return t.stop()}},t,this,[[8,12,16,24],[17,,19,23]])}));return function(){return t.apply(this,arguments)}}()})}},uSvX:function(t,e){}});
//# sourceMappingURL=42.2565a943b43a815683a5.js.map